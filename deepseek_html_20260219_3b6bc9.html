<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <title>StroyGo — Все строительные материалы в Ангрене</title>
    <!-- Font Awesome 6 (Free) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300..800&display=swap" rel="stylesheet">
    <style>
        /* ========== СБРОС И БАЗОВЫЕ НАСТРОЙКИ ========== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8fafd; color: #0b1e26; line-height: 1.4;
            -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
            padding-bottom: 80px;
        }
        .app-container {
            max-width: 500px; margin: 0 auto; background: #ffffff;
            box-shadow: 0 0 40px rgba(0,0,0,0.03); min-height: 100vh; position: relative;
            padding-bottom: 90px;
        }
        
        /* ========== ШАПКА ========== */
        .app-header {
            background: linear-gradient(145deg, #6b21a5, #8b3dbe);
            color: white;
            padding: 28px 20px 24px;
            border-bottom-left-radius: 32px;
            border-bottom-right-radius: 32px;
            box-shadow: 0 15px 30px -10px rgba(107, 33, 165, 0.4);
            position: relative;
            z-index: 10;
            overflow: hidden;
        }
        
        .app-header::before {
            content: "";
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 50%);
            animation: rotate 20s linear infinite;
            pointer-events: none;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .header-top { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }
        
        .logo-area { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        
        .logo-image {
            width: 48px;
            height: 48px;
            border-radius: 16px;
            object-fit: cover;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 20px rgba(249,115,22,0.3);
            transition: transform 0.3s ease;
        }
        .logo-image:hover {
            transform: scale(1.05) rotate(2deg);
        }
        
        .logo-text { 
            font-weight: 800; 
            font-size: 24px; 
            letter-spacing: -0.5px;
            color: white;
        }
        
        .logo-text span { 
            color: #f97316; 
        }
        
        .city-tag { 
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 40px;
            font-size: 13px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        /* Главный контент */
        .main-content {
            padding: 0 20px 20px;
        }
        
        /* Приветствие */
        .welcome-section {
            margin-bottom: 30px;
            background: linear-gradient(135deg, #f8fafd, #ffffff);
            border-radius: 40px;
            padding: 25px;
            box-shadow: 0 15px 30px -10px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .welcome-section::before {
            content: "";
            position: absolute;
            top: -30px;
            right: -30px;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(107,33,165,0.1) 0%, transparent 70%);
            border-radius: 50%;
        }
        
        .welcome-title {
            font-size: 26px;
            font-weight: 800;
            color: #6b21a5;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }
        
        .welcome-text {
            color: #64748b;
            font-size: 16px;
            position: relative;
            z-index: 2;
        }
        
        /* Поиск */
        .search-section {
            margin-bottom: 20px;
        }
        .search-box {
            display: flex;
            align-items: center;
            background: #f1f5f9;
            border-radius: 40px;
            padding: 12px 20px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        .search-box:focus-within {
            border-color: #6b21a5;
            background: white;
        }
        .search-box i {
            color: #6b21a5;
            font-size: 18px;
            margin-right: 10px;
        }
        .search-box input {
            flex: 1;
            border: none;
            background: none;
            font-size: 15px;
            outline: none;
            font-family: 'Inter', sans-serif;
        }
        
        /* Категории быстрого доступа */
        .quick-categories {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0 20px;
            scrollbar-width: none;
        }
        .quick-categories::-webkit-scrollbar {
            display: none;
        }
        .quick-cat-item {
            background: #f1f5f9;
            padding: 8px 16px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 600;
            color: #1e293b;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .quick-cat-item:hover {
            background: #6b21a5;
            color: white;
        }
        .quick-cat-item.active {
            background: #6b21a5;
            color: white;
            border-color: #f97316;
        }
        
        /* Категории */
        .category-section {
            margin-bottom: 20px;
            scroll-margin-top: 20px;
            border-radius: 24px;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
            overflow: hidden;
        }
        
        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 20px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #f0f4f9;
            border-radius: 24px;
        }
        
        .category-header:hover {
            background: #f8fafc;
            border-color: #6b21a5;
        }
        
        .category-title {
            font-size: 18px;
            font-weight: 700;
            color: #0b1e26;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .category-title i {
            color: #6b21a5;
            font-size: 22px;
        }
        
        .category-icon {
            color: #6b21a5;
            font-size: 18px;
            transition: transform 0.3s;
        }
        
        .category-icon.rotated {
            transform: rotate(180deg);
        }
        
        /* Контейнер с товарами (изначально скрыт) */
        .category-products {
            display: none;
            padding: 20px;
            background: #f8fafc;
            border-bottom-left-radius: 24px;
            border-bottom-right-radius: 24px;
        }
        
        .category-products.expanded {
            display: block;
        }
        
        /* Сетка товаров */
        .product-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 16px; 
        }
        
        .product-card {
            background: white;
            border-radius: 20px;
            padding: 14px 10px;
            border: 1px solid #f0f4f9;
            transition: all 0.3s;
            box-shadow: 0 5px 15px -5px rgba(107,33,165,0.1);
            position: relative;
            cursor: pointer;
        }
        
        .product-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -8px rgba(107,33,165,0.2);
            border-color: #8b3dbe;
        }
        
        .product-card.coming-soon {
            opacity: 0.8;
            background: #f8fafc;
            pointer-events: none;
        }
        
        .product-card.favorite {
            border: 2px solid #f97316;
            background: linear-gradient(145deg, #fff9f0, #ffffff);
        }
        
        .favorite-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            color: #f97316;
            font-size: 16px;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .coming-soon-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: linear-gradient(145deg, #6b21a5, #8b3dbe);
            color: white;
            font-size: 9px;
            font-weight: 700;
            padding: 3px 8px;
            border-radius: 40px;
            transform: rotate(2deg);
            box-shadow: 0 5px 10px rgba(107,33,165,0.3);
            z-index: 2;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: rotate(2deg) scale(1); }
            50% { transform: rotate(2deg) scale(1.05); }
            100% { transform: rotate(2deg) scale(1); }
        }
        
        .product-card:active { transform: scale(0.98); }
        
        .product-img { 
            background: linear-gradient(135deg, #f1f5f9, #ffffff);
            border-radius: 16px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            margin-bottom: 8px;
            border: 1px solid rgba(107,33,165,0.1);
            background-size: cover;
            background-position: center;
            color: #6b21a5;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .product-img:hover {
            transform: scale(1.05);
        }
        
        .product-description {
            font-size: 11px;
            color: #64748b;
            margin: 6px 0;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .price-row { 
            display: flex; 
            align-items: baseline; 
            gap: 6px; 
            flex-wrap: wrap; 
            margin: 8px 0; 
        }
        
        .old-price { 
            font-size: 11px; 
            color: #ef4444; 
            text-decoration: line-through; 
        }
        
        .new-price { 
            font-size: 18px; 
            font-weight: 800; 
            color: #f97316; 
        }
        
        .btn-add {
            width: 100%;
            background: linear-gradient(145deg, #f97316, #fb923c);
            color: white;
            border: none;
            padding: 8px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.3s;
            margin-top: 6px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(249,115,22,0.3);
        }
        
        .btn-add:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(249,115,22,0.4);
        }
        
        .btn-add:active { 
            transform: translateY(0);
            opacity: 0.9;
        }
        
        .btn-favorite-small {
            position: absolute;
            top: 8px;
            right: 8px;
            background: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b21a5;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
            z-index: 3;
        }
        
        .btn-favorite-small:hover {
            transform: scale(1.1);
            background: #f97316;
            color: white;
        }
        
        .btn-favorite-small.active {
            background: #f97316;
            color: white;
        }
        
        /* Нижняя навигация */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 2px solid rgba(107,33,165,0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 8px 0 20px;
            z-index: 1000;
            max-width: 500px;
            margin: 0 auto;
            right: 0;
            box-shadow: 0 -5px 20px rgba(107,33,165,0.1);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: #64748b;
            background: transparent;
            border: none;
            padding: 8px 12px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 70px;
        }
        
        .nav-item i { 
            font-size: 24px; 
            transition: transform 0.3s;
        }
        
        .nav-item:hover i {
            transform: scale(1.1);
        }
        
        .nav-item.active { 
            color: #6b21a5; 
            font-weight: 600; 
            background: rgba(107,33,165,0.1);
        }
        
        .nav-item.active i {
            transform: scale(1.1);
        }
        
        /* Бейджи */
        .cart-badge, .favorite-badge-nav, .reviews-badge-nav {
            position: relative;
        }
        
        .cart-count, .favorite-count, .reviews-count {
            position: absolute;
            top: -8px;
            right: -12px;
            background: linear-gradient(145deg, #f97316, #fb923c);
            color: white;
            font-size: 10px;
            font-weight: 700;
            padding: 2px 6px;
            border-radius: 20px;
            border: 2px solid white;
            min-width: 20px;
            text-align: center;
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Страницы */
        .page {
            display: none;
        }
        .page.active-page {
            display: block;
        }
        
        /* Корзина */
        .cart-items, .favorite-items {
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
        }
        .cart-item, .favorite-item {
            display: flex;
            justify-content: space-between;
            background: linear-gradient(145deg, #1e293b, #2d3a4f);
            padding: 12px 15px;
            border-radius: 40px;
            margin-bottom: 8px;
            color: white;
            border: 1px solid rgba(107,33,165,0.3);
        }
        .favorite-item {
            background: linear-gradient(145deg, #2d3a4f, #1e293b);
        }
        .cart-item-info, .favorite-item-info {
            display: flex;
            flex-direction: column;
        }
        .cart-item-name, .favorite-item-name {
            font-weight: 600;
        }
        .cart-item-price, .favorite-item-price {
            font-size: 12px;
            color: #94a3b8;
        }
        .cart-item-actions, .favorite-item-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #0f172a;
            padding: 5px 10px;
            border-radius: 30px;
        }
        .quantity-btn {
            background: none;
            border: none;
            color: #f97316;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            padding: 0 5px;
            transition: all 0.2s;
        }
        .quantity-btn:hover {
            transform: scale(1.2);
            color: #6b21a5;
        }
        .item-total {
            font-weight: 700;
            color: #f97316;
        }
        .remove-btn, .remove-favorite-btn {
            color: #ef4444;
            cursor: pointer;
            margin-left: 5px;
            transition: all 0.2s;
        }
        .remove-btn:hover, .remove-favorite-btn:hover {
            transform: scale(1.2);
            color: #6b21a5;
        }
        .cart-summary {
            background: linear-gradient(145deg, #1e293b, #2d3a4f);
            border-radius: 30px;
            padding: 15px;
            margin: 15px 0;
            color: white;
            border: 1px solid rgba(107,33,165,0.3);
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        .summary-total {
            font-size: 18px;
            font-weight: 800;
            color: #f97316;
            border-top: 1px solid #334155;
            padding-top: 8px;
            margin-top: 8px;
        }
        
        /* Форма заказа */
        .order-form input, .order-form textarea {
            width: 100%;
            padding: 14px 18px;
            margin-bottom: 12px;
            border: none;
            background: #f8fafc;
            border-radius: 30px;
            font-size: 15px;
            color: #0b1e26;
            font-family: 'Inter', sans-serif;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .order-form input:focus, .order-form textarea:focus {
            outline: none;
            border-color: #6b21a5;
            box-shadow: 0 0 0 3px rgba(107,33,165,0.2);
        }
        
        .order-form input::placeholder, .order-form textarea::placeholder { 
            color: #94a3b8; 
        }
        
        .order-form textarea { 
            min-height: 80px; 
            resize: vertical; 
        }
        
        /* Информационные карточки */
        .info-card {
            background: linear-gradient(135deg, #f8fafd, #ffffff);
            border-radius: 30px;
            padding: 25px;
            box-shadow: 0 15px 30px -10px rgba(107,33,165,0.1);
            border: 1px solid rgba(107,33,165,0.1);
        }
        .contact-list {
            list-style: none;
        }
        .contact-list li {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 20px;
            transition: all 0.2s;
        }
        .contact-list li:hover {
            background: rgba(107,33,165,0.05);
            transform: translateX(5px);
        }
        .contact-list i {
            width: 30px;
            color: #6b21a5;
            font-size: 20px;
        }
        
        /* Кнопка назад */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #6b21a5;
            font-weight: 600;
            margin-bottom: 20px;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 40px;
            background: rgba(107,33,165,0.1);
            transition: all 0.2s;
        }
        
        .back-btn:hover {
            background: rgba(107,33,165,0.2);
            transform: translateX(-5px);
        }
        
        /* Кнопки быстрой связи - только Telegram */
        .quick-contact {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 98;
        }
        .contact-btn.telegram {
            background: linear-gradient(145deg, #0088cc, #006699);
            width: 50px;
            height: 50px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 10px 20px rgba(0, 136, 204, 0.4);
            border: 2px solid white;
            cursor: pointer;
            transition: all 0.3s;
        }
        .contact-btn.telegram:hover {
            transform: scale(1.1) rotate(5deg);
        }
        
        /* Модальное окно подтверждения */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        .modal-content {
            background: white;
            color: #0b1e26;
            width: 90%;
            max-width: 400px;
            border-radius: 40px;
            padding: 30px 20px;
            text-align: center;
            animation: slideUp 0.3s;
            border: 3px solid #6b21a5;
        }
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .btn-accept {
            width: 100%;
            background: linear-gradient(145deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-accept:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(16,185,129,0.4);
        }
        
        /* ========== СТИЛИ ДЛЯ МОДАЛЬНОГО ОКНА ТОВАРА ========== */
        .product-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(8px);
            align-items: center;
            justify-content: center;
            z-index: 3000;
            padding: 15px;
        }
        .product-detail-content {
            background: white;
            width: 100%;
            max-width: 480px;
            border-radius: 48px;
            padding: 30px 25px;
            position: relative;
            animation: modalZoom 0.3s ease;
            border: 3px solid #6b21a5;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
            max-height: 90vh;
            overflow-y: auto;
        }
        @keyframes modalZoom {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .detail-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 42px;
            height: 42px;
            border-radius: 30px;
            background: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b21a5;
            font-size: 22px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #e2e8f0;
            z-index: 10;
        }
        .detail-modal-close:hover {
            background: #6b21a5;
            color: white;
            transform: rotate(90deg);
        }
        .detail-product-img {
            width: 100%;
            height: 200px;
            border-radius: 32px;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            margin-bottom: 20px;
            border: 2px solid #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
            color: #6b21a5;
            background: linear-gradient(135deg, #f1f5f9, #ffffff);
            cursor: pointer;
            transition: transform 0.3s;
        }
        .detail-product-img:hover {
            transform: scale(1.02);
        }
        .detail-spec-badge {
            font-size: 12px;
            font-weight: 600;
            color: #6b21a5;
            background: #f1f5f9;
            padding: 4px 12px;
            border-radius: 30px;
            display: inline-block;
            margin-bottom: 15px;
        }
        .detail-product-title {
            font-size: 28px;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 5px;
            color: #0b1e26;
        }
        .detail-product-subtitle {
            font-size: 14px;
            color: #475569;
            margin-bottom: 15px;
            font-weight: 500;
        }
        .detail-description {
            background: #f8fafc;
            border-radius: 24px;
            padding: 16px;
            margin-bottom: 15px;
            border: 1px solid #e2e8f0;
            font-size: 14px;
            color: #334155;
            line-height: 1.6;
        }
        .detail-price-block {
            background: linear-gradient(145deg, #f1f5f9, #ffffff);
            border-radius: 24px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #6b21a5;
        }
        .price-with-card {
            font-size: 20px;
            color: #475569;
            margin-bottom: 5px;
        }
        .price-with-card strong {
            font-size: 32px;
            color: #f97316;
            margin-left: 5px;
        }
        .price-without-card {
            font-size: 14px;
            color: #94a3b8;
            text-decoration: line-through;
            margin-bottom: 5px;
        }
        .detail-action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        .detail-btn-cart {
            flex: 2;
            background: linear-gradient(145deg, #f97316, #fb923c);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 40px;
            font-weight: 700;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(249,115,22,0.3);
            transition: all 0.3s;
        }
        .detail-btn-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 25px rgba(249,115,22,0.4);
        }
        .detail-btn-favorite {
            flex: 1;
            background: white;
            color: #6b21a5;
            border: 2px solid #6b21a5;
            padding: 16px;
            border-radius: 40px;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .detail-btn-favorite:hover {
            background: #6b21a5;
            color: white;
            transform: scale(1.05);
        }
        .detail-btn-favorite.active {
            background: #f97316;
            border-color: #f97316;
            color: white;
        }
        .detail-delivery-info {
            margin-top: 20px;
            padding: 15px;
            background: #f1f5f9;
            border-radius: 30px;
            font-size: 14px;
            color: #334155;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .detail-delivery-info i {
            color: #6b21a5;
            font-size: 20px;
        }
        
        /* Модальное окно для просмотра изображения */
        .image-view-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            align-items: center;
            justify-content: center;
            z-index: 4000;
            padding: 20px;
        }
        .image-view-content {
            position: relative;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
        }
        .image-view-img {
            width: 100%;
            height: auto;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 24px;
            border: 3px solid white;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }
        .image-view-close {
            position: absolute;
            top: -50px;
            right: 0;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b21a5;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #6b21a5;
        }
        .image-view-close:hover {
            transform: rotate(90deg);
            background: #6b21a5;
            color: white;
        }
        
        /* Пустой раздел */
        .empty-section {
            text-align: center;
            padding: 60px 20px;
            background: #f8fafc;
            border-radius: 40px;
            margin-top: 20px;
        }
        .empty-icon {
            font-size: 64px;
            color: #6b21a5;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        .empty-title {
            font-size: 20px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 10px;
        }
        .empty-text {
            color: #64748b;
            font-size: 14px;
        }
        
        /* История заказов и отзывы */
        .history-section {
            margin-top: 20px;
        }
        .history-item {
            background: white;
            border-radius: 24px;
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid #f0f4f9;
            box-shadow: 0 5px 15px -5px rgba(107,33,165,0.1);
            transition: all 0.3s;
        }
        .history-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -8px rgba(107,33,165,0.2);
            border-color: #8b3dbe;
        }
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .history-date {
            font-size: 14px;
            font-weight: 600;
            color: #6b21a5;
        }
        .history-status {
            background: #10b981;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
        }
        .history-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #475569;
            font-size: 14px;
        }
        .history-total {
            font-weight: 700;
            color: #f97316;
            font-size: 16px;
        }
        .history-details {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #e2e8f0;
        }
        .history-details.expanded {
            display: block;
        }
        .history-product {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
            color: #334155;
        }
        .history-product-name {
            font-weight: 500;
        }
        .history-product-price {
            color: #f97316;
        }
        .history-info {
            margin-top: 10px;
            padding: 10px;
            background: #f8fafc;
            border-radius: 16px;
            font-size: 12px;
            color: #64748b;
        }
        .clear-history-btn {
            background: none;
            border: 2px solid #ef4444;
            color: #ef4444;
            padding: 8px 16px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .clear-history-btn:hover {
            background: #ef4444;
            color: white;
        }
        
        /* Отзывы */
        .review-btn {
            background: linear-gradient(145deg, #6b21a5, #8b3dbe);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .review-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(107,33,165,0.4);
        }
        .review-section {
            margin-top: 20px;
        }
        .review-item {
            background: #f8fafc;
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #e2e8f0;
        }
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        .review-author {
            font-weight: 600;
            color: #6b21a5;
        }
        .review-date {
            font-size: 11px;
            color: #94a3b8;
        }
        .review-rating {
            color: #fbbf24;
            margin-bottom: 8px;
        }
        .review-text {
            font-size: 14px;
            color: #334155;
            line-height: 1.5;
        }
        .review-product-name {
            font-size: 12px;
            color: #64748b;
            margin-top: 8px;
            font-style: italic;
        }
        
        /* Звезды рейтинга */
        .rating-stars {
            display: flex;
            gap: 5px;
            margin: 15px 0;
            justify-content: center;
        }
        .rating-star {
            font-size: 30px;
            color: #cbd5e1;
            cursor: pointer;
            transition: all 0.2s;
        }
        .rating-star:hover,
        .rating-star.active {
            color: #fbbf24;
            transform: scale(1.1);
        }
        
        /* Страница отзывов */
        .reviews-page {
            margin-top: 20px;
        }
        .review-form {
            background: #f8fafc;
            border-radius: 30px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .review-form textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            font-size: 14px;
            margin-bottom: 10px;
            resize: vertical;
        }
        .review-form textarea:focus {
            outline: none;
            border-color: #6b21a5;
        }
        .review-form button {
            width: 100%;
            background: linear-gradient(145deg, #6b21a5, #8b3dbe);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .review-form button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(107,33,165,0.4);
        }
        .product-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            font-size: 14px;
            margin-bottom: 10px;
            background: white;
        }
    </style>
</head>
<body>
<div class="app-container">

    <!-- ШАПКА С ЛОГОТИПОМ -->
    <div class="app-header">
        <div class="header-top">
            <div class="logo-area">
                <img src="https://i.ibb.co/Qj6Rh5qs/photo-2026-02-08-17-34-44.jpg" alt="StroyGo Logo" class="logo-image">
                <div class="logo-text">Stroy<span>Go</span></div>
            </div>
            <div class="city-tag"><i class="fas fa-map-pin"></i> Ангрен</div>
        </div>
    </div>

    <!-- ==================== СТРАНИЦЫ ==================== -->

    <!-- Главная страница -->
    <div id="homePage" class="page active-page">
        <div class="main-content">
            <div class="welcome-section">
                <div class="welcome-title">Стройматериалы в Ангрене</div>
                <div class="welcome-text">Более 1000 товаров • Доставка за 24 часа</div>
            </div>
            
            <!-- Поиск -->
            <div class="search-section">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Поиск товаров..." onkeyup="searchProducts()">
                </div>
            </div>
            
            <!-- Быстрые категории -->
            <div class="quick-categories">
                <div class="quick-cat-item active" onclick="filterCategory('all')">Все</div>
                <div class="quick-cat-item" onclick="filterCategory('kraski')">Краски</div>
                <div class="quick-cat-item" onclick="filterCategory('instrumenty')">Инструменты</div>
                <div class="quick-cat-item" onclick="filterCategory('skotch')">Скотчи</div>
                <div class="quick-cat-item" onclick="filterCategory('klei')">Клеи</div>
                <div class="quick-cat-item" onclick="filterCategory('gruntovki')">Грунтовки</div>
            </div>
            
            <!-- Категория: Инструменты и аксессуары -->
            <div id="category1" class="category-section">
                <div class="category-header" onclick="toggleCategory('category1')">
                    <div class="category-title">
                        <i class="fas fa-tools"></i> Инструменты и аксессуары
                    </div>
                    <i class="fas fa-chevron-down category-icon" id="icon-category1"></i>
                </div>
                <div class="category-products" id="products-category1">
                    <div class="product-grid">
                        <!-- Пластиковое ведро -->
                        <div class="product-card" data-id="101" data-category="instrumenty" data-name="Пластиковое ведро" data-price="15000" data-unit="шт" onclick="openProductDetail(101)">
                            <div class="favorite-badge" id="fav-badge-101" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(101)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/35sNhQrr/2026-02-19-173141.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/35sNhQrr/2026-02-19-173141.png', event)"></div>
                            <h3>Пластиковое ведро</h3>
                            <div class="product-description">Для хранения, переноски и транспортировки различных жидкостей, сыпучих материалов</div>
                            <div class="price-row">
                                <span class="new-price">15 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(101)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Малярный нож -->
                        <div class="product-card" data-id="102" data-category="instrumenty" data-name="Малярный нож" data-price="8000" data-unit="шт" onclick="openProductDetail(102)">
                            <div class="favorite-badge" id="fav-badge-102" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(102)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/Pv1vN6ss/2026-02-19-173222.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/Pv1vN6ss/2026-02-19-173222.png', event)"></div>
                            <h3>Малярный нож</h3>
                            <div class="product-description">Для быстрой резки картона, пленок, бумаги и других материалов</div>
                            <div class="price-row">
                                <span class="new-price">8 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(102)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Шпатель пластиковый обойный -->
                        <div class="product-card" data-id="105" data-category="instrumenty" data-name="Шпатель пластиковый" data-price="5000" data-unit="шт" onclick="openProductDetail(105)">
                            <div class="favorite-badge" id="fav-badge-105" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(105)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/chnTNJqQ/2026-02-19-173322.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/chnTNJqQ/2026-02-19-173322.png', event)"></div>
                            <h3>Шпатель пластиковый</h3>
                            <div class="product-description">Прижимной высокоэластичный инструмент для разглаживания обоев</div>
                            <div class="price-row">
                                <span class="new-price">5 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(105)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Лоток для краски -->
                        <div class="product-card" data-id="106" data-category="instrumenty" data-name="Лоток для краски" data-price="15000" data-unit="шт" onclick="openProductDetail(106)">
                            <div class="favorite-badge" id="fav-badge-106" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(106)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/0pLX4gkP/2026-02-19-173331.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/0pLX4gkP/2026-02-19-173331.png', event)"></div>
                            <h3>Лоток для краски</h3>
                            <div class="product-description">С углублением и ребристым наклоном для равномерного распределения краски</div>
                            <div class="price-row">
                                <span class="new-price">15 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(106)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Кисть деревянная 1 -->
                        <div class="product-card" data-id="110" data-category="instrumenty" data-name="Кисть деревянная" data-price="4000" data-unit="шт" onclick="openProductDetail(110)">
                            <div class="favorite-badge" id="fav-badge-110" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(110)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/fGD8BC0q/2026-02-19-173435.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/fGD8BC0q/2026-02-19-173435.png', event)"></div>
                            <h3>Кисть деревянная</h3>
                            <div class="product-description">Качественная кисть для малярных работ</div>
                            <div class="price-row">
                                <span class="new-price">4 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(110)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Валик 38мм Стяжка 20см -->
                        <div class="product-card" data-id="111" data-category="instrumenty" data-name="Валик 38мм стяжка" data-price="12000" data-unit="шт" onclick="openProductDetail(111)">
                            <div class="favorite-badge" id="fav-badge-111" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(111)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/n8McNwmY/2026-02-19-173445.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/n8McNwmY/2026-02-19-173445.png', event)"></div>
                            <h3>Валик 38мм стяжка</h3>
                            <div class="product-description">Профессиональный валик для малярных работ</div>
                            <div class="price-row">
                                <span class="new-price">12 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(111)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Валик 22мм Мех -->
                        <div class="product-card" data-id="112" data-category="instrumenty" data-name="Валик 22мм меховой" data-price="10000" data-unit="шт" onclick="openProductDetail(112)">
                            <div class="favorite-badge" id="fav-badge-112" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(112)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/8nS6CvqN/2026-02-19-173457.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/8nS6CvqN/2026-02-19-173457.png', event)"></div>
                            <h3>Валик 22мм меховой</h3>
                            <div class="product-description">Качественный меховой валик для покраски</div>
                            <div class="price-row">
                                <span class="new-price">10 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(112)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Валик 55мм Коробка -->
                        <div class="product-card" data-id="113" data-category="instrumenty" data-name="Валик 55мм" data-price="14000" data-unit="шт" onclick="openProductDetail(113)">
                            <div class="favorite-badge" id="fav-badge-113" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(113)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/SXxhBzCf/2026-02-19-173509.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/SXxhBzCf/2026-02-19-173509.png', event)"></div>
                            <h3>Валик 55мм</h3>
                            <div class="product-description">Профессиональный валик в коробке</div>
                            <div class="price-row">
                                <span class="new-price">14 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(113)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Валик 22мм Коробка (Делюкс) -->
                        <div class="product-card" data-id="114" data-category="instrumenty" data-name="Валик 22мм Делюкс" data-price="13000" data-unit="шт" onclick="openProductDetail(114)">
                            <div class="favorite-badge" id="fav-badge-114" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(114)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/b51wSH66/2026-02-19-173524.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/b51wSH66/2026-02-19-173524.png', event)"></div>
                            <h3>Валик 22мм Делюкс</h3>
                            <div class="product-description">Премиум валик для идеального покрытия</div>
                            <div class="price-row">
                                <span class="new-price">13 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(114)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Категория: Крепеж и фурнитура -->
            <div id="category2" class="category-section">
                <div class="category-header" onclick="toggleCategory('category2')">
                    <div class="category-title">
                        <i class="fas fa-grip-lines"></i> Крепеж и фурнитура
                    </div>
                    <i class="fas fa-chevron-down category-icon" id="icon-category2"></i>
                </div>
                <div class="category-products" id="products-category2">
                    <div class="product-grid">
                        <!-- Пластиковые крестики для плитки -->
                        <div class="product-card" data-id="103" data-category="instrumenty" data-name="Крестики для плитки 2мм" data-price="2000" data-unit="уп" onclick="openProductDetail(103)">
                            <div class="favorite-badge" id="fav-badge-103" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(103)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/FqBHzcNp/2026-02-19-173249.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/FqBHzcNp/2026-02-19-173249.png', event)"></div>
                            <h3>Крестики для плитки 2мм</h3>
                            <div class="product-description">Для одинаковой толщины швов и удержания плитки от сползания</div>
                            <div class="price-row">
                                <span class="new-price">2 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(103)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Комплект зажимов и клинья (СВП) -->
                        <div class="product-card" data-id="104" data-category="instrumenty" data-name="СВП зажимы и клинья" data-price="15000" data-unit="компл" onclick="openProductDetail(104)">
                            <div class="favorite-badge" id="fav-badge-104" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(104)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/fd0jXnCb/2026-02-19-173306.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/fd0jXnCb/2026-02-19-173306.png', event)"></div>
                            <h3>СВП зажимы и клинья</h3>
                            <div class="product-description">Система выравнивания плитки для идеально ровной укладки</div>
                            <div class="price-row">
                                <span class="new-price">15 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(104)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Дюбель гвозди -->
                        <div class="product-card" data-id="107" data-category="instrumenty" data-name="Дюбель гвозди" data-price="500" data-unit="уп" onclick="openProductDetail(107)">
                            <div class="favorite-badge" id="fav-badge-107" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(107)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/LXnVNbsy/2026-02-19-173343.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/LXnVNbsy/2026-02-19-173343.png', event)"></div>
                            <h3>Дюбель гвозди</h3>
                            <div class="product-description">Крепежный элемент для теплоизоляционных плит к бетону и кирпичу</div>
                            <div class="price-row">
                                <span class="new-price">500</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(107)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Внутренние вентиляционные решетки -->
                        <div class="product-card" data-id="108" data-category="instrumenty" data-name="Вентиляционная решетка" data-price="8000" data-unit="шт" onclick="openProductDetail(108)">
                            <div class="favorite-badge" id="fav-badge-108" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(108)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/7tWdB07w/2026-02-19-173354.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/7tWdB07w/2026-02-19-173354.png', event)"></div>
                            <h3>Вентиляционная решетка</h3>
                            <div class="product-description">С москитной сеткой для защиты от пыли и насекомых</div>
                            <div class="price-row">
                                <span class="new-price">8 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(108)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Пластмассовые изделия -->
                        <div class="product-card" data-id="109" data-category="instrumenty" data-name="Пластмассовые изделия" data-price="3000" data-unit="шт" onclick="openProductDetail(109)">
                            <div class="favorite-badge" id="fav-badge-109" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(109)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/6c58dz5R/2026-02-19-173423.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/6c58dz5R/2026-02-19-173423.png', event)"></div>
                            <h3>Пластмассовые изделия</h3>
                            <div class="product-description">Различные пластиковые комплектующие</div>
                            <div class="price-row">
                                <span class="new-price">3 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(109)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Угол из ПВХ -->
                        <div class="product-card" data-id="119" data-category="instrumenty" data-name="Угол ПВХ" data-price="5000" data-unit="шт" onclick="openProductDetail(119)">
                            <div class="favorite-badge" id="fav-badge-119" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(119)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/DDTvMVJV/2026-02-19-173734.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/DDTvMVJV/2026-02-19-173734.png', event)"></div>
                            <h3>Угол ПВХ</h3>
                            <div class="product-description">Для защиты и украшения углов стен, потолков и дверей</div>
                            <div class="price-row">
                                <span class="new-price">5 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(119)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Категория: Ленты и скотчи -->
            <div id="category3" class="category-section">
                <div class="category-header" onclick="toggleCategory('category3')">
                    <div class="category-title">
                        <i class="fas fa-tape"></i> Ленты и скотчи
                    </div>
                    <i class="fas fa-chevron-down category-icon" id="icon-category3"></i>
                </div>
                <div class="category-products" id="products-category3">
                    <div class="product-grid">
                        <!-- Серпянка -->
                        <div class="product-card" data-id="120" data-category="skotch" data-name="Серпянка" data-price="4000" data-unit="шт" onclick="openProductDetail(120)">
                            <div class="favorite-badge" id="fav-badge-120" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(120)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/F44W8DmF/2026-02-19-173745.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/F44W8DmF/2026-02-19-173745.png', event)"></div>
                            <h3>Серпянка</h3>
                            <div class="product-description">Стеклосетка для армирования углов и стыков гипсокартона</div>
                            <div class="price-row">
                                <span class="new-price">4 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(120)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Стык лента на бумажной основе -->
                        <div class="product-card" data-id="121" data-category="skotch" data-name="Стык лента бумажная" data-price="3000" data-unit="шт" onclick="openProductDetail(121)">
                            <div class="favorite-badge" id="fav-badge-121" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(121)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/Kzb03VcB/2026-02-19-173756.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/Kzb03VcB/2026-02-19-173756.png', event)"></div>
                            <h3>Стык лента бумажная</h3>
                            <div class="product-description">Для заделки стыков ГВЛ, ГКЛ и других листовых материалов</div>
                            <div class="price-row">
                                <span class="new-price">3 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(121)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Баннер скотч -->
                        <div class="product-card" data-id="122" data-category="skotch" data-name="Баннер скотч" data-price="7000" data-unit="шт" onclick="openProductDetail(122)">
                            <div class="favorite-badge" id="fav-badge-122" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(122)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/QVH1ZMC/2026-02-19-173804.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/QVH1ZMC/2026-02-19-173804.png', event)"></div>
                            <h3>Баннер скотч</h3>
                            <div class="product-description">Для крепления жестких профилей к дереву, картону, пластику</div>
                            <div class="price-row">
                                <span class="new-price">7 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(122)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Изолента ПВХ -->
                        <div class="product-card" data-id="123" data-category="skotch" data-name="Изолента ПВХ" data-price="3000" data-unit="шт" onclick="openProductDetail(123)">
                            <div class="favorite-badge" id="fav-badge-123" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(123)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/WvYLkHLd/2026-02-19-173814.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/WvYLkHLd/2026-02-19-173814.png', event)"></div>
                            <h3>Изолента ПВХ</h3>
                            <div class="product-description">Для изоляции проводов и кабелей при ремонте</div>
                            <div class="price-row">
                                <span class="new-price">3 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(123)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Скотч канцелярский -->
                        <div class="product-card" data-id="124" data-category="skotch" data-name="Скотч канцелярский" data-price="2000" data-unit="шт" onclick="openProductDetail(124)">
                            <div class="favorite-badge" id="fav-badge-124" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(124)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/FbZ0skj0/2026-02-19-173825.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/FbZ0skj0/2026-02-19-173825.png', event)"></div>
                            <h3>Скотч канцелярский</h3>
                            <div class="product-description">Для упаковки, ремонта и крепления предметов</div>
                            <div class="price-row">
                                <span class="new-price">2 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(124)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Лента WASHI -->
                        <div class="product-card" data-id="125" data-category="skotch" data-name="Лента WASHI" data-price="5000" data-unit="шт" onclick="openProductDetail(125)">
                            <div class="favorite-badge" id="fav-badge-125" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(125)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/bMvDnKDk/2026-02-19-173838.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/bMvDnKDk/2026-02-19-173838.png', event)"></div>
                            <h3>Лента WASHI</h3>
                            <div class="product-description">Декоративная малярная лента для рукоделия и рисования</div>
                            <div class="price-row">
                                <span class="new-price">5 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(125)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Алюминиевая клейкая лента -->
                        <div class="product-card" data-id="126" data-category="skotch" data-name="Алюминиевая лента" data-price="8000" data-unit="шт" onclick="openProductDetail(126)">
                            <div class="favorite-badge" id="fav-badge-126" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(126)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/XZydd0hb/2026-02-19-173849.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/XZydd0hb/2026-02-19-173849.png', event)"></div>
                            <h3>Алюминиевая лента</h3>
                            <div class="product-description">Фольгированный скотч для вентиляционных труб и изоляции</div>
                            <div class="price-row">
                                <span class="new-price">8 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(126)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Автомобильная малярная лента -->
                        <div class="product-card" data-id="127" data-category="skotch" data-name="Автомобильная лента" data-price="6000" data-unit="шт" onclick="openProductDetail(127)">
                            <div class="favorite-badge" id="fav-badge-127" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(127)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/7JvP9vnp/2026-02-19-173900.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/7JvP9vnp/2026-02-19-173900.png', event)"></div>
                            <h3>Автомобильная лента</h3>
                            <div class="product-description">Термостойкая до 100°С, не оставляет следов</div>
                            <div class="price-row">
                                <span class="new-price">6 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(127)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Двусторонняя прозрачная лента М3 -->
                        <div class="product-card" data-id="128" data-category="skotch" data-name="Двусторонняя лента М3" data-price="7000" data-unit="шт" onclick="openProductDetail(128)">
                            <div class="favorite-badge" id="fav-badge-128" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(128)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/YBzbyDLQ/2026-02-19-173912.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/YBzbyDLQ/2026-02-19-173912.png', event)"></div>
                            <h3>Двусторонняя лента М3</h3>
                            <div class="product-description">Высокотемпературная для светодиодной ленты и ремонта телефонов</div>
                            <div class="price-row">
                                <span class="new-price">7 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(128)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Лента липкая двусторонняя SACA -->
                        <div class="product-card" data-id="129" data-category="skotch" data-name="Лента SACA" data-price="8000" data-unit="шт" onclick="openProductDetail(129)">
                            <div class="favorite-badge" id="fav-badge-129" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(129)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/sdPtVp96/2026-02-19-173923.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/sdPtVp96/2026-02-19-173923.png', event)"></div>
                            <h3>Лента SACA</h3>
                            <div class="product-description">Из вспененной синтетической резины, водостойкая</div>
                            <div class="price-row">
                                <span class="new-price">8 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(129)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Двусторонний скотч (универсальный) -->
                        <div class="product-card" data-id="130" data-category="skotch" data-name="Двусторонний скотч" data-price="5000" data-unit="шт" onclick="openProductDetail(130)">
                            <div class="favorite-badge" id="fav-badge-130" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(130)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/Zp5qsgrK/2026-02-19-174000.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/Zp5qsgrK/2026-02-19-174000.png', event)"></div>
                            <h3>Двусторонний скотч</h3>
                            <div class="product-description">Надежная замена клея для ремонтных и монтажных работ</div>
                            <div class="price-row">
                                <span class="new-price">5 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(130)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Укрывная пленка с малярным скотчем -->
                        <div class="product-card" data-id="131" data-category="skotch" data-name="Укрывная пленка" data-price="12000" data-unit="шт" onclick="openProductDetail(131)">
                            <div class="favorite-badge" id="fav-badge-131" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(131)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/hJkPSGZQ/2026-02-19-174012.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/hJkPSGZQ/2026-02-19-174012.png', event)"></div>
                            <h3>Укрывная пленка</h3>
                            <div class="product-description">С малярным скотчем для защиты поверхностей при ремонте</div>
                            <div class="price-row">
                                <span class="new-price">12 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(131)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Малярный скотч -->
                        <div class="product-card" data-id="132" data-category="skotch" data-name="Малярный скотч" data-price="4000" data-unit="шт" onclick="openProductDetail(132)">
                            <div class="favorite-badge" id="fav-badge-132" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(132)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/bjVh932n/2026-02-19-174022.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/bjVh932n/2026-02-19-174022.png', event)"></div>
                            <h3>Малярный скотч</h3>
                            <div class="product-description">Для защиты поверхностей при покраске, не оставляет следов</div>
                            <div class="price-row">
                                <span class="new-price">4 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(132)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Сигнальная лента -->
                        <div class="product-card" data-id="118" data-category="skotch" data-name="Сигнальная лента" data-price="5000" data-unit="шт" onclick="openProductDetail(118)">
                            <div class="favorite-badge" id="fav-badge-118" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(118)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/zhgHSYnw/2026-02-19-173536.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/zhgHSYnw/2026-02-19-173536.png', event)"></div>
                            <h3>Сигнальная лента</h3>
                            <div class="product-description">Для обозначения опасности и ограждения территории</div>
                            <div class="price-row">
                                <span class="new-price">5 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(118)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Категория: Клеи и герметики -->
            <div id="category4" class="category-section">
                <div class="category-header" onclick="toggleCategory('category4')">
                    <div class="category-title">
                        <i class="fas fa-tape"></i> Клеи и герметики
                    </div>
                    <i class="fas fa-chevron-down category-icon" id="icon-category4"></i>
                </div>
                <div class="category-products" id="products-category4">
                    <div class="product-grid">
                        <!-- Силиконовый герметик -->
                        <div class="product-card" data-id="133" data-category="klei" data-name="Силиконовый герметик" data-price="22000" data-unit="шт" onclick="openProductDetail(133)">
                            <div class="favorite-badge" id="fav-badge-133" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(133)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/PptYBmR/2026-02-19-174032.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/PptYBmR/2026-02-19-174032.png', event)"></div>
                            <h3>Силиконовый герметик</h3>
                            <div class="product-description">Для изоляции от влаги в ванных комнатах и на кухнях</div>
                            <div class="price-row">
                                <span class="new-price">22 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(133)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Жидкие гвозди -->
                        <div class="product-card" data-id="135" data-category="klei" data-name="Жидкие гвозди" data-price="15000" data-unit="шт" onclick="openProductDetail(135)">
                            <div class="favorite-badge" id="fav-badge-135" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(135)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/k6q9v9q7/2026-02-19-174135.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/k6q9v9q7/2026-02-19-174135.png', event)"></div>
                            <h3>Жидкие гвозди</h3>
                            <div class="product-description">Для склеивания дерева, керамики, пластика, стекла и металла</div>
                            <div class="price-row">
                                <span class="new-price">15 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(135)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Клей ПВА -->
                        <div class="product-card" data-id="141" data-category="klei" data-name="Клей ПВА" data-price="8000" data-unit="шт" onclick="openProductDetail(141)">
                            <div class="favorite-badge" id="fav-badge-141" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(141)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/8Dj8MpH2/2026-02-19-174318.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/8Dj8MpH2/2026-02-19-174318.png', event)"></div>
                            <h3>Клей ПВА</h3>
                            <div class="product-description">Универсальный клей для различных материалов</div>
                            <div class="price-row">
                                <span class="new-price">8 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(141)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Категория: Краски и покрытия -->
            <div id="category5" class="category-section">
                <div class="category-header" onclick="toggleCategory('category5')">
                    <div class="category-title">
                        <i class="fas fa-paint-brush"></i> Краски и покрытия
                    </div>
                    <i class="fas fa-chevron-down category-icon" id="icon-category5"></i>
                </div>
                <div class="category-products" id="products-category5">
                    <div class="product-grid">
                        <!-- Эмаль Оскар -->
                        <div class="product-card" data-id="151" data-category="kraski" data-name="Эмаль Оскар" data-price="45000" data-unit="шт" onclick="openProductDetail(151)">
                            <div class="favorite-badge" id="fav-badge-151" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(151)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/d0YqR55G/2026-02-19-174539.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/d0YqR55G/2026-02-19-174539.png', event)"></div>
                            <h3>Эмаль Оскар</h3>
                            <div class="product-description">Универсальное покрытие для защиты дерева и металла</div>
                            <div class="price-row">
                                <span class="new-price">45 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(151)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Водные краски Oscar Deluxe -->
                        <div class="product-card" data-id="152" data-category="kraski" data-name="Oscar Deluxe водная" data-price="55000" data-unit="шт" onclick="openProductDetail(152)">
                            <div class="favorite-badge" id="fav-badge-152" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(152)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/Y7qrpmRH/2026-02-19-174520.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/Y7qrpmRH/2026-02-19-174520.png', event)"></div>
                            <h3>Oscar Deluxe водная</h3>
                            <div class="product-description">Безопасные краски на водной основе, слабый запах</div>
                            <div class="price-row">
                                <span class="new-price">55 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(152)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Нитроцеллюлозная эмаль НЦ -->
                        <div class="product-card" data-id="153" data-category="kraski" data-name="Нитроэмаль НЦ" data-price="35000" data-unit="шт" onclick="openProductDetail(153)">
                            <div class="favorite-badge" id="fav-badge-153" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(153)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/ZzmskTH7/2026-02-19-174506.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/ZzmskTH7/2026-02-19-174506.png', event)"></div>
                            <h3>Нитроэмаль НЦ</h3>
                            <div class="product-description">Для металла и дерева, быстросохнущая</div>
                            <div class="price-row">
                                <span class="new-price">35 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(153)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Антипас -->
                        <div class="product-card" data-id="154" data-category="kraski" data-name="Антипас" data-price="28000" data-unit="шт" onclick="openProductDetail(154)">
                            <div class="favorite-badge" id="fav-badge-154" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(154)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/jvkRPjXb/2026-02-19-174457.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/jvkRPjXb/2026-02-19-174457.png', event)"></div>
                            <h3>Антипас</h3>
                            <div class="product-description">Антикоррозионная эмаль для защиты металла</div>
                            <div class="price-row">
                                <span class="new-price">28 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(154)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Аэрозольная краска Duafix -->
                        <div class="product-card" data-id="155" data-category="kraski" data-name="Аэрозоль Duafix" data-price="25000" data-unit="шт" onclick="openProductDetail(155)">
                            <div class="favorite-badge" id="fav-badge-155" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(155)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/SLfZZZV/2026-02-19-174434.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/SLfZZZV/2026-02-19-174434.png', event)"></div>
                            <h3>Аэрозоль Duafix</h3>
                            <div class="product-description">Для металла, дерева, пластика, стекла и керамики</div>
                            <div class="price-row">
                                <span class="new-price">25 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(155)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Грунтовка -->
                        <div class="product-card" data-id="156" data-category="gruntovki" data-name="Грунтовка" data-price="25000" data-unit="шт" onclick="openProductDetail(156)">
                            <div class="favorite-badge" id="fav-badge-156" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(156)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/HDKdWFdh/2026-02-19-174424.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/HDKdWFdh/2026-02-19-174424.png', event)"></div>
                            <h3>Грунтовка</h3>
                            <div class="product-description">Для укрепления основания и улучшения адгезии</div>
                            <div class="price-row">
                                <span class="new-price">25 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(156)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Эмульсия -->
                        <div class="product-card" data-id="157" data-category="kraski" data-name="Эмульсия" data-price="55000" data-unit="шт" onclick="openProductDetail(157)">
                            <div class="favorite-badge" id="fav-badge-157" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(157)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/nMfPZp97/2026-02-19-174412.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/nMfPZp97/2026-02-19-174412.png', event)"></div>
                            <h3>Эмульсия</h3>
                            <div class="product-description">Для внутреннего и наружного окрашивания</div>
                            <div class="price-row">
                                <span class="new-price">55 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(157)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Битумный лак -->
                        <div class="product-card" data-id="158" data-category="kraski" data-name="Битумный лак" data-price="27000" data-unit="шт" onclick="openProductDetail(158)">
                            <div class="favorite-badge" id="fav-badge-158" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(158)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/TDD87p8S/2026-02-19-174401.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/TDD87p8S/2026-02-19-174401.png', event)"></div>
                            <h3>Битумный лак</h3>
                            <div class="product-description">Антикоррозийное покрытие для металла и холодная склейка кровли</div>
                            <div class="price-row">
                                <span class="new-price">27 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(158)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Травертин лак -->
                        <div class="product-card" data-id="159" data-category="kraski" data-name="Травертин лак" data-price="35000" data-unit="шт" onclick="openProductDetail(159)">
                            <div class="favorite-badge" id="fav-badge-159" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(159)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/wNtbphWf/2026-02-19-174352.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/wNtbphWf/2026-02-19-174352.png', event)"></div>
                            <h3>Травертин лак</h3>
                            <div class="product-description">Защитный акриловый лак для фасадов и внутренних работ</div>
                            <div class="price-row">
                                <span class="new-price">35 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(159)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Бетоноконтакт -->
                        <div class="product-card" data-id="160" data-category="gruntovki" data-name="Бетоноконтакт" data-price="42000" data-unit="шт" onclick="openProductDetail(160)">
                            <div class="favorite-badge" id="fav-badge-160" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(160)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/d0j8CGtG/2026-02-19-174342.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/d0j8CGtG/2026-02-19-174342.png', event)"></div>
                            <h3>Бетоноконтакт</h3>
                            <div class="product-description">Грунтовка с кварцевым песком для гладких оснований</div>
                            <div class="price-row">
                                <span class="new-price">42 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(160)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Лак (универсальный) -->
                        <div class="product-card" data-id="161" data-category="kraski" data-name="Лак универсальный" data-price="30000" data-unit="шт" onclick="openProductDetail(161)">
                            <div class="favorite-badge" id="fav-badge-161" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(161)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/prbbfzWH/2026-02-19-174331.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/prbbfzWH/2026-02-19-174331.png', event)"></div>
                            <h3>Лак универсальный</h3>
                            <div class="product-description">Для защиты и подчеркивания структуры древесины</div>
                            <div class="price-row">
                                <span class="new-price">30 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(161)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Категория: Растворители и добавки -->
            <div id="category6" class="category-section">
                <div class="category-header" onclick="toggleCategory('category6')">
                    <div class="category-title">
                        <i class="fas fa-flask"></i> Растворители и добавки
                    </div>
                    <i class="fas fa-chevron-down category-icon" id="icon-category6"></i>
                </div>
                <div class="category-products" id="products-category6">
                    <div class="product-grid">
                        <!-- Растворитель 646 -->
                        <div class="product-card" data-id="162" data-category="kraski" data-name="Растворитель 646" data-price="15000" data-unit="шт" onclick="openProductDetail(162)">
                            <div class="favorite-badge" id="fav-badge-162" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(162)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/RkVqGx50/2026-02-19-174446.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/RkVqGx50/2026-02-19-174446.png', event)"></div>
                            <h3>Растворитель 646</h3>
                            <div class="product-description">Для разбавления лаков и нитрокрасок, создания ровного покрытия</div>
                            <div class="price-row">
                                <span class="new-price">15 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(162)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Разбавитель -->
                        <div class="product-card" data-id="163" data-category="kraski" data-name="Разбавитель" data-price="12000" data-unit="шт" onclick="openProductDetail(163)">
                            <div class="favorite-badge" id="fav-badge-163" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(163)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/rRh45dXR/2026-02-19-174528.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/rRh45dXR/2026-02-19-174528.png', event)"></div>
                            <h3>Разбавитель</h3>
                            <div class="product-description">Для масляных красок, облегчает нанесение и смешивание</div>
                            <div class="price-row">
                                <span class="new-price">12 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(163)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Антимороз -->
                        <div class="product-card" data-id="138" data-category="kraski" data-name="Антимороз" data-price="18000" data-unit="шт" onclick="openProductDetail(138)">
                            <div class="favorite-badge" id="fav-badge-138" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(138)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/WWVQ1nb1/2026-02-19-174205.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/WWVQ1nb1/2026-02-19-174205.png', event)"></div>
                            <h3>Антимороз</h3>
                            <div class="product-description">Для понижения температуры замерзания бетона до -20°С</div>
                            <div class="price-row">
                                <span class="new-price">18 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(138)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Олифа -->
                        <div class="product-card" data-id="139" data-category="kraski" data-name="Олифа" data-price="14000" data-unit="шт" onclick="openProductDetail(139)">
                            <div class="favorite-badge" id="fav-badge-139" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(139)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/991mQvxs/2026-02-19-174255.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/991mQvxs/2026-02-19-174255.png', event)"></div>
                            <h3>Олифа</h3>
                            <div class="product-description">Для обработки дерева, грунтовки и основы масляных красок</div>
                            <div class="price-row">
                                <span class="new-price">14 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(139)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Морилка -->
                        <div class="product-card" data-id="140" data-category="kraski" data-name="Морилка" data-price="16000" data-unit="шт" onclick="openProductDetail(140)">
                            <div class="favorite-badge" id="fav-badge-140" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(140)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/mrhpGvcK/2026-02-19-174306.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/mrhpGvcK/2026-02-19-174306.png', event)"></div>
                            <h3>Морилка</h3>
                            <div class="product-description">Для тонирования древесины и защиты от ультрафиолета</div>
                            <div class="price-row">
                                <span class="new-price">16 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(140)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Категория: Шпаклевки и смеси -->
            <div id="category7" class="category-section">
                <div class="category-header" onclick="toggleCategory('category7')">
                    <div class="category-title">
                        <i class="fas fa-fill"></i> Шпаклевки и смеси
                    </div>
                    <i class="fas fa-chevron-down category-icon" id="icon-category7"></i>
                </div>
                <div class="category-products" id="products-category7">
                    <div class="product-grid">
                        <!-- Акриловая шпаклевка -->
                        <div class="product-card" data-id="136" data-category="instrumenty" data-name="Акриловая шпаклевка" data-price="18000" data-unit="шт" onclick="openProductDetail(136)">
                            <div class="favorite-badge" id="fav-badge-136" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(136)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/23phrjFy/2026-02-19-174215.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/23phrjFy/2026-02-19-174215.png', event)"></div>
                            <h3>Акриловая шпаклевка</h3>
                            <div class="product-description">Для маскировки дефектов деревянных поверхностей</div>
                            <div class="price-row">
                                <span class="new-price">18 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(136)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Фуга (затирка) -->
                        <div class="product-card" data-id="137" data-category="instrumenty" data-name="Фуга (затирка)" data-price="12000" data-unit="шт" onclick="openProductDetail(137)">
                            <div class="favorite-badge" id="fav-badge-137" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(137)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/Xx0XnyZC/2026-02-19-174148.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/Xx0XnyZC/2026-02-19-174148.png', event)"></div>
                            <h3>Фуга (затирка)</h3>
                            <div class="product-description">Для заполнения межплиточных швов, защита от грибка</div>
                            <div class="price-row">
                                <span class="new-price">12 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(137)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Сода каустическая -->
                        <div class="product-card" data-id="142" data-category="instrumenty" data-name="Сода каустическая" data-price="10000" data-unit="шт" onclick="openProductDetail(142)">
                            <div class="favorite-badge" id="fav-badge-142" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(142)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/bMt68Fsj/2026-02-19-174226.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/bMt68Fsj/2026-02-19-174226.png', event)"></div>
                            <h3>Сода каустическая</h3>
                            <div class="product-description">Для прочистки труб, растворяет жировые отложения</div>
                            <div class="price-row">
                                <span class="new-price">10 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(142)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Гидроизоляция -->
                        <div class="product-card" data-id="143" data-category="instrumenty" data-name="Гидроизоляция" data-price="22000" data-unit="шт" onclick="openProductDetail(143)">
                            <div class="favorite-badge" id="fav-badge-143" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(143)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/pvn3xQt0/2026-02-19-174236.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/pvn3xQt0/2026-02-19-174236.png', event)"></div>
                            <h3>Гидроизоляция</h3>
                            <div class="product-description">Защитное покрытие от влаги для металла, бетона и дерева</div>
                            <div class="price-row">
                                <span class="new-price">22 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(143)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Жидкое стекло -->
                        <div class="product-card" data-id="144" data-category="instrumenty" data-name="Жидкое стекло" data-price="18000" data-unit="шт" onclick="openProductDetail(144)">
                            <div class="favorite-badge" id="fav-badge-144" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(144)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/99b4pR8v/2026-02-19-174245.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/99b4pR8v/2026-02-19-174245.png', event)"></div>
                            <h3>Жидкое стекло</h3>
                            <div class="product-description">На натриевой основе для защиты бетонных строений</div>
                            <div class="price-row">
                                <span class="new-price">18 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(144)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Монтажная пена -->
                        <div class="product-card" data-id="134" data-category="instrumenty" data-name="Монтажная пена" data-price="28000" data-unit="шт" onclick="openProductDetail(134)">
                            <div class="favorite-badge" id="fav-badge-134" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(134)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/S7m1kcKW/2026-02-19-174124.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/S7m1kcKW/2026-02-19-174124.png', event)"></div>
                            <h3>Монтажная пена</h3>
                            <div class="product-description">Универсальный герметик для крепления и заделки швов</div>
                            <div class="price-row">
                                <span class="new-price">28 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(134)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                        
                        <!-- Стеклохолст -->
                        <div class="product-card" data-id="117" data-category="instrumenty" data-name="Стеклохолст" data-price="25000" data-unit="шт" onclick="openProductDetail(117)">
                            <div class="favorite-badge" id="fav-badge-117" style="display: none;">❤️</div>
                            <button class="btn-favorite-small" onclick="event.stopPropagation(); toggleFavorite(117)">
                                <i class="far fa-heart"></i>
                            </button>
                            <div class="product-img" style="background-image: url('https://i.ibb.co/b51wSH66/2026-02-19-173524.png'); background-size: cover;" onclick="event.stopPropagation(); openImageView('https://i.ibb.co/b51wSH66/2026-02-19-173524.png', event)"></div>
                            <h3>Стеклохолст</h3>
                            <div class="product-description">Прочная сетка из стекловолокна для армирования</div>
                            <div class="price-row">
                                <span class="new-price">25 000</span>
                            </div>
                            <button class="btn-add" onclick="event.stopPropagation(); addToCart(117)"><i class="fas fa-cart-plus"></i> Добавить</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Страница корзины -->
    <div id="cartPage" class="page">
        <div class="main-content">
            <div class="back-btn" onclick="showPage('homePage')">
                <i class="fas fa-arrow-left"></i> Назад к покупкам
            </div>
            <h2 style="margin-bottom: 20px; color: #6b21a5;">🛒 Корзина</h2>
            <div id="cartItemsList" class="cart-items"></div>
            
            <div class="cart-summary">
                <div class="summary-row">
                    <span>Товаров:</span>
                    <span id="summaryItems">0</span>
                </div>
                <div class="summary-row summary-total">
                    <span>Итого:</span>
                    <span id="cartTotal">0 сум</span>
                </div>
            </div>
            
            <button class="btn-add" onclick="proceedToCheckout()" style="margin-top:10px;" id="checkoutBtn">
                <i class="fas fa-arrow-right"></i> Оформить заказ
            </button>
        </div>
    </div>

    <!-- Страница оформления заказа -->
    <div id="checkoutPage" class="page">
        <div class="main-content">
            <div class="back-btn" onclick="showPage('cartPage')">
                <i class="fas fa-arrow-left"></i> Вернуться в корзину
            </div>
            <h2 style="margin-bottom: 20px; color: #6b21a5;">📝 Оформление заказа</h2>
            <div class="order-form">
                <input type="text" id="customerName" placeholder="Ваше имя" value="Покупатель">
                <input type="tel" id="customerPhone" placeholder="Телефон" value="+998">
                <input type="text" id="customerAddress" placeholder="Адрес доставки (ориентир)">
                <textarea id="customerComment" placeholder="Комментарий к заказу (необязательно)"></textarea>
                
                <div style="background: #f8fafc; border-radius:30px; padding:15px; margin:15px 0; border: 1px solid rgba(107,33,165,0.2);">
                    <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                        <span>Товаров:</span>
                        <span id="checkoutSummaryItems">0</span>
                    </div>
                    <div style="display:flex; justify-content:space-between; font-weight:bold; color:#f97316; font-size:18px;">
                        <span>К оплате:</span>
                        <span id="checkoutSummaryTotal">0 сум</span>
                    </div>
                </div>
                
                <button class="btn-add" onclick="sendOrderToTelegram()" style="margin-top:10px;">
                    <i class="fab fa-telegram"></i> 📦 Подтвердить заказ
                </button>
            </div>
        </div>
    </div>

    <!-- Страница магазина -->
    <div id="shopPage" class="page">
        <div class="main-content">
            <h2 style="margin-bottom: 20px; color: #6b21a5;">🏪 О магазине</h2>
            <div class="info-card">
                <h3 style="margin-bottom: 20px;">Центр (Навои)</h3>
                <p><i class="fas fa-map-marker-alt" style="color:#6b21a5;"></i> ул. Навои, 15</p>
                <p style="margin-top: 10px;"><i class="fas fa-clock" style="color:#6b21a5;"></i> Ежедневно: 8:00 - 20:00</p>
                <p style="margin-top: 10px;"><i class="fas fa-phone" style="color:#6b21a5;"></i> +998 (90) 123-45-67</p>
            </div>
        </div>
    </div>

    <!-- Страница контактов -->
    <div id="contactsPage" class="page">
        <div class="main-content">
            <h2 style="margin-bottom: 20px; color: #6b21a5;">📞 Контакты</h2>
            <div class="info-card">
                <h3 style="margin-bottom: 20px;">Свяжитесь с нами</h3>
                <ul class="contact-list">
                    <li><i class="fas fa-phone-alt"></i> <strong>Телефон:</strong> +998 (90) 123-45-67</li>
                    <li><i class="fab fa-telegram"></i> <strong>Telegram:</strong> @StroyGObot</li>
                    <li><i class="fas fa-building"></i> <strong>Производитель:</strong> OSCAR, Узбекистан</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Страница избранного -->
    <div id="favoritesPage" class="page">
        <div class="main-content">
            <div class="back-btn" onclick="showPage('homePage')">
                <i class="fas fa-arrow-left"></i> На главную
            </div>
            <h2 style="margin-bottom: 20px; color: #6b21a5;">❤️ Избранное</h2>
            <div id="favoritesList" class="favorite-items"></div>
            
            <button class="btn-add" onclick="addAllFavoritesToCart()" style="margin-top:10px; background: linear-gradient(145deg, #6b21a5, #8b3dbe);" id="addAllFavoritesBtn">
                <i class="fas fa-cart-plus"></i> Добавить все в корзину
            </button>
        </div>
    </div>

    <!-- Страница истории заказов -->
    <div id="historyPage" class="page">
        <div class="main-content">
            <div class="back-btn" onclick="showPage('homePage')">
                <i class="fas fa-arrow-left"></i> На главную
            </div>
            <h2 style="margin-bottom: 20px; color: #6b21a5;">📜 История заказов</h2>
            
            <button class="clear-history-btn" onclick="clearOrderHistory()">
                <i class="fas fa-trash"></i> Очистить историю
            </button>
            
            <div id="orderHistoryList" class="history-section">
                <!-- История будет загружаться сюда -->
            </div>
        </div>
    </div>

    <!-- Страница отзывов -->
    <div id="reviewsPage" class="page">
        <div class="main-content">
            <div class="back-btn" onclick="showPage('homePage')">
                <i class="fas fa-arrow-left"></i> На главную
            </div>
            <h2 style="margin-bottom: 20px; color: #6b21a5;">⭐ Отзывы</h2>
            
            <div class="review-form" id="reviewForm" style="display: none;">
                <h3 style="margin-bottom: 15px;">Оставить отзыв</h3>
                <select id="reviewProductSelect" class="product-select">
                    <option value="">Выберите товар</option>
                </select>
                <div class="rating-stars" id="ratingStars">
                    <span class="rating-star" data-rating="1">★</span>
                    <span class="rating-star" data-rating="2">★</span>
                    <span class="rating-star" data-rating="3">★</span>
                    <span class="rating-star" data-rating="4">★</span>
                    <span class="rating-star" data-rating="5">★</span>
                </div>
                <textarea id="reviewText" placeholder="Ваш отзыв" rows="4"></textarea>
                <button onclick="submitReview()">Отправить отзыв</button>
            </div>
            
            <div id="reviewsList" class="reviews-page">
                <!-- Отзывы будут загружаться сюда -->
            </div>
        </div>
    </div>

    <!-- КНОПКИ БЫСТРОЙ СВЯЗИ -->
    <div class="quick-contact">
        <div class="contact-btn telegram" onclick="window.open('https://t.me/StroyGObot', '_blank')">
            <i class="fab fa-telegram"></i>
        </div>
    </div>

    <!-- НИЖНЯЯ НАВИГАЦИЯ -->
    <div class="bottom-nav">
        <button class="nav-item" onclick="showPage('homePage'); setActiveNav(0)">
            <i class="fas fa-home"></i>
            <span>Главная</span>
        </button>
        <button class="nav-item" onclick="showPage('favoritesPage'); setActiveNav(1)">
            <i class="fas fa-heart favorite-badge-nav">
                <span class="favorite-count" id="navFavoriteCount">0</span>
            </i>
            <span>Избранное</span>
        </button>
        <button class="nav-item" onclick="showPage('cartPage'); setActiveNav(2)">
            <i class="fas fa-shopping-cart cart-badge">
                <span class="cart-count" id="navCartCount">0</span>
            </i>
            <span>Корзина</span>
        </button>
        <button class="nav-item" onclick="showPage('reviewsPage'); setActiveNav(3)">
            <i class="fas fa-star reviews-badge-nav">
                <span class="reviews-count" id="navReviewsCount">0</span>
            </i>
            <span>Отзывы</span>
        </button>
    </div>

    <!-- МОДАЛКА ПОДТВЕРЖДЕНИЯ ЗАКАЗА -->
    <div id="acceptOrderModal" class="modal-overlay">
        <div class="modal-content">
            <div style="font-size: 64px; margin-bottom: 20px;">✅</div>
            <h2 style="margin-bottom: 15px;">Заказ подтверждён!</h2>
            <p style="color: #64748b; margin-bottom: 25px;">Спасибо за заказ! Вы можете оставить отзыв после получения.</p>
            <button class="btn-accept" onclick="closeAcceptModal()">
                <i class="fas fa-check"></i> Отлично
            </button>
        </div>
    </div>

    <!-- МОДАЛЬНОЕ ОКНО ДЛЯ ДЕТАЛЬНОГО ПРОСМОТРА ТОВАРА -->
    <div id="productDetailModal" class="product-detail-modal">
        <div class="product-detail-content" id="productDetailContent">
            <!-- Содержимое будет заполняться динамически через JavaScript -->
        </div>
    </div>

    <!-- МОДАЛЬНОЕ ОКНО ДЛЯ ПРОСМОТРА ИЗОБРАЖЕНИЯ -->
    <div id="imageViewModal" class="image-view-modal" onclick="closeImageView()">
        <div class="image-view-content">
            <img id="imageViewImg" class="image-view-img" src="" alt="Просмотр изображения">
            <div class="image-view-close" onclick="closeImageView(event)">
                <i class="fas fa-times"></i>
            </div>
        </div>
    </div>

</div>

<script>
    // ==================== НАСТРОЙКИ ПОДКЛЮЧЕНИЯ К БОТУ ====================
    const TELEGRAM_BOT_TOKEN = '8300136158:AAEpkQ26v0UwXkJt_RVTM_0ND3tsGPrS1dY';
    const TELEGRAM_GROUP_ID = '1144365466';
    // ========================================================================

    let selectedShop = 'center';
    let cart = [];
    let favorites = [];
    let orderHistory = [];
    let reviews = [];
    let currentRating = 0;

    // Загрузка избранного из localStorage
    function loadFavorites() {
        const saved = localStorage.getItem('stroygo_favorites');
        if (saved) {
            try {
                favorites = JSON.parse(saved);
            } catch (e) {
                favorites = [];
            }
        } else {
            favorites = [];
        }
        updateFavoritesUI();
        updateFavoriteBadges();
    }

    // Сохранение избранного в localStorage
    function saveFavorites() {
        localStorage.setItem('stroygo_favorites', JSON.stringify(favorites));
    }

    // Добавление/удаление из избранного
    function toggleFavorite(productId) {
        const index = favorites.indexOf(productId);
        if (index === -1) {
            favorites.push(productId);
        } else {
            favorites.splice(index, 1);
        }
        saveFavorites();
        updateFavoritesUI();
        updateFavoriteBadges();
        updateFavoriteButtonInDetail(productId);
    }

    // Проверка, в избранном ли товар
    function isFavorite(productId) {
        return favorites.includes(productId);
    }

    // Обновление отображения избранного
    function updateFavoritesUI() {
        // Обновляем бейдж в навигации
        document.getElementById('navFavoriteCount').innerText = favorites.length;
        
        // Обновляем отображение на странице избранного
        const list = document.getElementById('favoritesList');
        if (!list) return;

        if (favorites.length === 0) {
            list.innerHTML = `
                <div class="empty-section">
                    <div class="empty-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="empty-title">Избранное пусто</div>
                    <div class="empty-text">Добавляйте товары в избранное, чтобы не потерять</div>
                </div>
            `;
            document.getElementById('addAllFavoritesBtn').style.display = 'none';
            return;
        }

        document.getElementById('addAllFavoritesBtn').style.display = 'block';
        
        let html = '';
        favorites.forEach(productId => {
            const product = productCatalog[productId];
            if (product) {
                html += `
                    <div class="favorite-item">
                        <div class="favorite-item-info">
                            <span class="favorite-item-name">${product.name}</span>
                            <span class="favorite-item-price">${product.price.toLocaleString()} сум</span>
                        </div>
                        <div class="favorite-item-actions">
                            <button class="btn-add" onclick="addToCart(${productId});" style="width: auto; padding: 6px 12px; margin: 0;">
                                <i class="fas fa-cart-plus"></i>
                            </button>
                            <i class="fas fa-trash remove-favorite-btn" onclick="toggleFavorite(${productId})"></i>
                        </div>
                    </div>
                `;
            }
        });
        
        list.innerHTML = html;
    }

    // Обновление иконок избранного на карточках товаров
    function updateFavoriteBadges() {
        document.querySelectorAll('.btn-favorite-small').forEach(btn => {
            const card = btn.closest('.product-card');
            if (card) {
                const productId = parseInt(card.dataset.id);
                const icon = btn.querySelector('i');
                if (isFavorite(productId)) {
                    icon.className = 'fas fa-heart';
                    btn.classList.add('active');
                } else {
                    icon.className = 'far fa-heart';
                    btn.classList.remove('active');
                }
            }
        });
        
        // Обновляем бейджи с сердечками
        favorites.forEach(productId => {
            const badge = document.getElementById(`fav-badge-${productId}`);
            if (badge) {
                badge.style.display = 'block';
            }
        });
        
        // Скрываем бейджи для не избранных
        document.querySelectorAll('[id^="fav-badge-"]').forEach(badge => {
            const id = badge.id.replace('fav-badge-', '');
            if (!isFavorite(parseInt(id))) {
                badge.style.display = 'none';
            }
        });
    }

    // Обновление кнопки избранного в детальном окне
    function updateFavoriteButtonInDetail(productId) {
        const detailBtn = document.querySelector('.detail-btn-favorite');
        if (detailBtn) {
            const icon = detailBtn.querySelector('i');
            if (isFavorite(productId)) {
                icon.className = 'fas fa-heart';
                detailBtn.classList.add('active');
            } else {
                icon.className = 'far fa-heart';
                detailBtn.classList.remove('active');
            }
        }
    }

    // Добавить все из избранного в корзину
    function addAllFavoritesToCart() {
        favorites.forEach(productId => {
            addToCart(productId, true); // true = без анимации
        });
        updateCartUI();
        alert('Все товары из избранного добавлены в корзину!');
    }

    // Загрузка истории из localStorage
    function loadOrderHistory() {
        const saved = localStorage.getItem('stroygo_order_history');
        if (saved) {
            try {
                orderHistory = JSON.parse(saved);
            } catch (e) {
                orderHistory = [];
            }
        } else {
            orderHistory = [];
        }
        updateHistoryUI();
    }

    // Сохранение истории в localStorage
    function saveOrderHistory() {
        localStorage.setItem('stroygo_order_history', JSON.stringify(orderHistory));
    }

    // Добавление заказа в историю
    function addOrderToHistory(order) {
        orderHistory.unshift(order); // Добавляем в начало
        if (orderHistory.length > 50) { // Ограничиваем до 50 заказов
            orderHistory = orderHistory.slice(0, 50);
        }
        saveOrderHistory();
        updateHistoryUI();
    }

    // Обновление отображения истории
    function updateHistoryUI() {
        const list = document.getElementById('orderHistoryList');
        if (!list) return;

        if (orderHistory.length === 0) {
            list.innerHTML = `
                <div class="empty-section">
                    <div class="empty-icon">
                        <i class="fas fa-box-open"></i>
                    </div>
                    <div class="empty-title">История пуста</div>
                    <div class="empty-text">Здесь будут отображаться ваши заказы</div>
                </div>
            `;
            return;
        }

        let html = '';
        orderHistory.forEach((order, index) => {
            const date = new Date(order.date);
            const formattedDate = date.toLocaleString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });

            html += `
                <div class="history-item" onclick="toggleHistoryDetails(${index})">
                    <div class="history-header">
                        <span class="history-date">${formattedDate}</span>
                        <span class="history-status">${order.status || 'Выполнен'}</span>
                    </div>
                    <div class="history-summary">
                        <span>${order.items.length} товаров</span>
                        <span class="history-total">${order.total.toLocaleString()} сум</span>
                    </div>
                    <div class="history-details" id="history-details-${index}">
                        ${order.items.map(item => `
                            <div class="history-product">
                                <span class="history-product-name">${item.name}</span>
                                <span class="history-product-price">${item.quantity} шт × ${item.price.toLocaleString()} сум</span>
                            </div>
                        `).join('')}
                        <div class="history-info">
                            <div><i class="fas fa-user"></i> ${order.customer.name}</div>
                            <div><i class="fas fa-phone"></i> ${order.customer.phone}</div>
                            <div><i class="fas fa-map-marker-alt"></i> ${order.customer.address}</div>
                            ${order.customer.comment ? `<div><i class="fas fa-comment"></i> ${order.customer.comment}</div>` : ''}
                        </div>
                        <button class="review-btn" onclick="event.stopPropagation(); openReviewForm(${index})">
                            <i class="fas fa-star"></i> Оставить отзыв
                        </button>
                    </div>
                </div>
            `;
        });

        list.innerHTML = html;
    }

    // Раскрытие/скрытие деталей заказа
    function toggleHistoryDetails(index) {
        const details = document.getElementById(`history-details-${index}`);
        if (details) {
            details.classList.toggle('expanded');
        }
    }

    // Очистка истории
    function clearOrderHistory() {
        if (confirm('Вы уверены, что хотите очистить историю заказов?')) {
            orderHistory = [];
            saveOrderHistory();
            updateHistoryUI();
        }
    }

    // Загрузка отзывов из localStorage
    function loadReviews() {
        const saved = localStorage.getItem('stroygo_reviews');
        if (saved) {
            try {
                reviews = JSON.parse(saved);
            } catch (e) {
                reviews = [];
            }
        } else {
            reviews = [];
        }
        updateReviewsUI();
    }

    // Сохранение отзывов в localStorage
    function saveReviews() {
        localStorage.setItem('stroygo_reviews', JSON.stringify(reviews));
        updateReviewsUI();
    }

    // Обновление отображения отзывов
    function updateReviewsUI() {
        const list = document.getElementById('reviewsList');
        const count = document.getElementById('navReviewsCount');
        if (count) count.innerText = reviews.length;
        
        if (!list) return;

        if (reviews.length === 0) {
            list.innerHTML = `
                <div class="empty-section">
                    <div class="empty-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="empty-title">Пока нет отзывов</div>
                    <div class="empty-text">Будьте первым, кто оставит отзыв о товаре</div>
                </div>
            `;
            return;
        }

        let html = '<div class="review-section">';
        reviews.forEach(review => {
            const date = new Date(review.date);
            const formattedDate = date.toLocaleString('ru-RU', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
            
            let stars = '';
            for (let i = 0; i < 5; i++) {
                stars += i < review.rating ? '★' : '☆';
            }

            html += `
                <div class="review-item">
                    <div class="review-header">
                        <span class="review-author">${review.author}</span>
                        <span class="review-date">${formattedDate}</span>
                    </div>
                    <div class="review-rating">${stars}</div>
                    <div class="review-text">${review.text}</div>
                    <div class="review-product-name">Товар: ${review.productName}</div>
                </div>
            `;
        });
        html += '</div>';
        
        list.innerHTML = html;
    }

    // Открытие формы отзыва
    function openReviewForm(orderIndex) {
        const order = orderHistory[orderIndex];
        if (!order) return;

        showPage('reviewsPage');
        setActiveNav(3);
        
        const form = document.getElementById('reviewForm');
        const select = document.getElementById('reviewProductSelect');
        
        form.style.display = 'block';
        select.innerHTML = '<option value="">Выберите товар</option>';
        
        order.items.forEach(item => {
            select.innerHTML += `<option value="${item.id}">${item.name}</option>`;
        });
        
        // Сохраняем индекс заказа для отправки отзыва
        window.currentOrderForReview = orderIndex;
        
        // Сброс рейтинга
        currentRating = 0;
        document.querySelectorAll('.rating-star').forEach(star => {
            star.classList.remove('active');
        });
    }

    // Отправка отзыва
    function submitReview() {
        const productId = document.getElementById('reviewProductSelect').value;
        const text = document.getElementById('reviewText').value.trim();
        
        if (!productId) {
            alert('Выберите товар');
            return;
        }
        
        if (currentRating === 0) {
            alert('Поставьте оценку');
            return;
        }
        
        if (!text) {
            alert('Напишите отзыв');
            return;
        }
        
        const product = productCatalog[productId];
        if (!product) return;
        
        const review = {
            id: Date.now(),
            productId: parseInt(productId),
            productName: product.name,
            author: 'Покупатель',
            rating: currentRating,
            text: text,
            date: new Date().toISOString()
        };
        
        reviews.push(review);
        saveReviews();
        
        // Закрываем форму
        document.getElementById('reviewForm').style.display = 'none';
        document.getElementById('reviewText').value = '';
        currentRating = 0;
        
        alert('Спасибо за ваш отзыв!');
    }

    // Инициализация звезд рейтинга
    function initRatingStars() {
        document.querySelectorAll('.rating-star').forEach(star => {
            star.addEventListener('click', function() {
                const rating = parseInt(this.dataset.rating);
                currentRating = rating;
                
                document.querySelectorAll('.rating-star').forEach((s, index) => {
                    if (index < rating) {
                        s.classList.add('active');
                    } else {
                        s.classList.remove('active');
                    }
                });
            });
        });
    }

    // Открытие изображения на весь экран
    function openImageView(imageUrl, event) {
        if (event) event.stopPropagation();
        document.getElementById('imageViewImg').src = imageUrl;
        document.getElementById('imageViewModal').style.display = 'flex';
    }

    // Закрытие изображения
    function closeImageView(event) {
        if (event) event.stopPropagation();
        document.getElementById('imageViewModal').style.display = 'none';
    }

    // Поиск товаров
    function searchProducts() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        const products = document.querySelectorAll('.product-card');
        
        products.forEach(product => {
            const title = product.querySelector('h3').innerText.toLowerCase();
            const desc = product.querySelector('.product-description').innerText.toLowerCase();
            
            if (title.includes(query) || desc.includes(query)) {
                product.style.display = 'block';
            } else {
                product.style.display = 'none';
            }
        });
    }

    // Фильтрация по категориям
    function filterCategory(category) {
        document.querySelectorAll('.quick-cat-item').forEach(item => {
            item.classList.remove('active');
        });
        event.target.classList.add('active');
        
        if (category === 'all') {
            document.querySelectorAll('.category-section').forEach(section => {
                section.style.display = 'block';
            });
        } else {
            document.querySelectorAll('.category-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Показываем только нужные категории
            if (category === 'kraski') {
                document.getElementById('category5').style.display = 'block';
                document.getElementById('category6').style.display = 'block';
            } else if (category === 'instrumenty') {
                document.getElementById('category1').style.display = 'block';
                document.getElementById('category2').style.display = 'block';
                document.getElementById('category7').style.display = 'block';
            } else if (category === 'skotch') {
                document.getElementById('category3').style.display = 'block';
            } else if (category === 'klei') {
                document.getElementById('category4').style.display = 'block';
            } else if (category === 'gruntovki') {
                document.getElementById('category5').style.display = 'block';
            }
        }
    }

    // ========== ПОЛНЫЙ КАТАЛОГ ТОВАРОВ ==========
    const productCatalog = {
        // Инструменты
        101: { id: 101, name: "Пластиковое ведро", price: 15000, image: "https://i.ibb.co/35sNhQrr/2026-02-19-173141.png", description: "Пластиковое ведро используется для хранения, переноски и транспортировки различных жидкостей, сыпучих материалов или других веществ. Пластиковые ведра часто применяются в быту, в строительстве, на даче, в промышленности и в других областях." },
        102: { id: 102, name: "Малярный нож", price: 8000, image: "https://i.ibb.co/Pv1vN6ss/2026-02-19-173222.png", description: "Малярный нож используется для быстрой резки картона, пленок, бумаги и прочих материалов, для которых не требуется применения более мощных режущих инструментов." },
        103: { id: 103, name: "Крестики для плитки 2мм", price: 2000, image: "https://i.ibb.co/FqBHzcNp/2026-02-19-173249.png", description: "Пластиковые крестики для плитки – самый экономичный и простой способ облегчить и ускорить облицовку пола и стен. Крестики удерживают плитку от сползания с вертикальных поверхностей и обеспечивают одинаковую толщину межплиточных швов." },
        104: { id: 104, name: "СВП зажимы и клинья", price: 15000, image: "https://i.ibb.co/fd0jXnCb/2026-02-19-173306.png", description: "Комплект зажимов и клинья представляют собой систему выравнивания плитки (СВП) и предназначены для удобства монтажа плитки. Клинья регулируют положение плитки относительно поверхности. Система выравнивания плитки помогает уложить плитку по одному уровню, избегая проседания и добиться ровных, одинаковых швов." },
        105: { id: 105, name: "Шпатель пластиковый", price: 5000, image: "https://i.ibb.co/chnTNJqQ/2026-02-19-173322.png", description: "Шпатель пластиковый обойный — это прижимной высокоэластичный строительный инструмент для разглаживания обоев в ходе поклейки." },
        106: { id: 106, name: "Лоток для краски", price: 15000, image: "https://i.ibb.co/0pLX4gkP/2026-02-19-173331.png", description: "Лотоки для краски используются для хранения краски при декорировании валиком, обычно имеют углубление и ребристый наклон, с помощью которого можно равномерно распределить краску по валику." },
        107: { id: 107, name: "Дюбель гвозди", price: 500, image: "https://i.ibb.co/LXnVNbsy/2026-02-19-173343.png", description: "Дюбель гвозды - это крепежный элемент, служит для крепления теплоизоляционных плит к вертикальным стенам из камня, бетона, кирпича." },
        108: { id: 108, name: "Вентиляционная решетка", price: 8000, image: "https://i.ibb.co/7tWdB07w/2026-02-19-173354.png", description: "Внутренние вентиляционные решетки пластиковые - защищают от попадания в систему вентиляции мелких предметов, а также являются декоративным элементом. Вентиляционная решетка пластиковая обычно идет в комплекте с сеткой москитной, которая помогает не проникнуть пыли и грязи в вентиляцию." },
        109: { id: 109, name: "Пластмассовые изделия", price: 3000, image: "https://i.ibb.co/6c58dz5R/2026-02-19-173423.png", description: "Различные пластмассовые изделия для строительства и ремонта." },
        110: { id: 110, name: "Кисть деревянная", price: 4000, image: "https://i.ibb.co/fGD8BC0q/2026-02-19-173435.png", description: "Качественная деревянная кисть для малярных работ." },
        111: { id: 111, name: "Валик 38мм стяжка", price: 12000, image: "https://i.ibb.co/n8McNwmY/2026-02-19-173445.png", description: "Валик 38мм Стяжка 20см для профессиональной покраски." },
        112: { id: 112, name: "Валик 22мм меховой", price: 10000, image: "https://i.ibb.co/8nS6CvqN/2026-02-19-173457.png", description: "Валик 22мм меховой для качественного нанесения краски." },
        113: { id: 113, name: "Валик 55мм", price: 14000, image: "https://i.ibb.co/SXxhBzCf/2026-02-19-173509.png", description: "Валик 55мм в коробке для профессиональных работ." },
        114: { id: 114, name: "Валик 22мм Делюкс", price: 13000, image: "https://i.ibb.co/b51wSH66/2026-02-19-173524.png", description: "Валик 22мм Коробка (Делюкс) премиум качества." },
        117: { id: 117, name: "Стеклохолст", price: 25000, image: "https://i.ibb.co/b51wSH66/2026-02-19-173524.png", description: "Стеклохолст — это материал, представляющий собой тонкую сетку, изготовленную из стеклянных волокон, пропитанную смолой или другими связующими веществами. Обладает высокой прочностью, устойчивостью к воздействию влаги." },
        118: { id: 118, name: "Сигнальная лента", price: 5000, image: "https://i.ibb.co/zhgHSYnw/2026-02-19-173536.png", description: "Сигнальная лента ярко окрашенная лента для обозначения опасности, привлечения внимания и ограждения опасной территории." },
        119: { id: 119, name: "Угол ПВХ", price: 5000, image: "https://i.ibb.co/DDTvMVJV/2026-02-19-173734.png", description: "Угол из ПВХ — это элемент отделки, который используется для защиты и украшения углов различных конструкций, таких как стены, потолки или двери. Устойчив к воздействию влаги, химических веществ, механическим повреждениям." },
        
        // Ленты
        120: { id: 120, name: "Серпянка", price: 4000, image: "https://i.ibb.co/F44W8DmF/2026-02-19-173745.png", description: "Серпянка это лента, состоящая из клейкого слоя и слоя сетчатой стеклоткани. Серпянка крепкая и надёжная, не пропускает влагу, отлично прилипает, защищает поверхности от коррозии, используется для обработки и укрепления стен, армирования углов." },
        121: { id: 121, name: "Стык лента бумажная", price: 3000, image: "https://i.ibb.co/Kzb03VcB/2026-02-19-173756.png", description: "Стык лента на бумажной основе применяется для заделки стыков ГВЛ, ГКЛ и других листовых материалов (фанеры, ДВП). Используется на этапе подготовки стен к отделке." },
        122: { id: 122, name: "Баннер скотч", price: 7000, image: "https://i.ibb.co/QVH1ZMC/2026-02-19-173804.png", description: "Баннер скотч на полипропиленовой основе с высокой начальной и окончательной адгезией. Отлично работает на изогнутые поверхности. Склеивает дерево, картон, пластик, металл, стекло." },
        123: { id: 123, name: "Изолента ПВХ", price: 3000, image: "https://i.ibb.co/WvYLkHLd/2026-02-19-173814.png", description: "Изолента ПВХ представляет собой поливинилхлоридную пленку с клеевым слоем. Предназначена для изоляции проводов и кабелей при ремонте и сращивании электрокабелей." },
        124: { id: 124, name: "Скотч канцелярский", price: 2000, image: "https://i.ibb.co/FbZ0skj0/2026-02-19-173825.png", description: "Скотч канцелярский это полимерная полипропиленовая лента с клеевым слоем. Применяется в быту, офисе, для упаковки подарков, ремонта мелких повреждений, крепления предметов." },
        125: { id: 125, name: "Лента WASHI", price: 5000, image: "https://i.ibb.co/bMvDnKDk/2026-02-19-173838.png", description: "Лента WASHI — популярная форма малярной ленты, изготовленная из экологически чистых материалов. Используется для рукоделия, скрапбукинга и в индустрии рисования." },
        126: { id: 126, name: "Алюминиевая лента", price: 8000, image: "https://i.ibb.co/XZydd0hb/2026-02-19-173849.png", description: "Алюминиевая клейкая лента (фольгированный скотч) — представляет собой алюминиевую фольгу с клеевым слоем. Наклеивается на стыки в вентиляционных трубах, для проклейки соединений теплоизоляционных листов." },
        127: { id: 127, name: "Автомобильная лента", price: 6000, image: "https://i.ibb.co/7JvP9vnp/2026-02-19-173900.png", description: "Автомобильная малярная лента надежно прилегает к поверхности, идеально подходит для работы с лакокрасочными материалами, не оставляет следов. Температура работы до 100°С." },
        128: { id: 128, name: "Двусторонняя лента М3", price: 7000, image: "https://i.ibb.co/YBzbyDLQ/2026-02-19-173912.png", description: "Двусторонняя прозрачная лента М3 с высокой температурной устойчивостью. Для монтажа светодиодной ленты, фиксации сенсоров, ремонта мобильных телефонов." },
        129: { id: 129, name: "Лента SACA", price: 8000, image: "https://i.ibb.co/sdPtVp96/2026-02-19-173923.png", description: "Лента липкая двусторонняя SACA из вспененной синтетической резины. Устойчива к воде, моющим средствам и спиртам." },
        130: { id: 130, name: "Двусторонний скотч", price: 5000, image: "https://i.ibb.co/Zp5qsgrK/2026-02-19-174000.png", description: "Более надежная замена клея. Используется в ремонтных и монтажных работах для крепления предметов к подвесным потолкам, плитке, линолеуму." },
        131: { id: 131, name: "Укрывная пленка", price: 12000, image: "https://i.ibb.co/hJkPSGZQ/2026-02-19-174012.png", description: "Укрывная пленка с малярным скотчем. Идеально подходит при проведении ремонтных работ в помещении." },
        132: { id: 132, name: "Малярный скотч", price: 4000, image: "https://i.ibb.co/bjVh932n/2026-02-19-174022.png", description: "Малярный скотч используется во время покраски для защиты поверхностей. Имеет клейкую обратную сторону, предотвращает проникновение краски под ленту." },
        
        // Герметики и клеи
        133: { id: 133, name: "Силиконовый герметик", price: 22000, image: "https://i.ibb.co/PptYBmR/2026-02-19-174032.png", description: "Силиконовый герметик применяется для изоляции от влаги стыков в ванных комнатах, туалетах, кухнях. Защищает от образования грибка и плесени." },
        134: { id: 134, name: "Монтажная пена", price: 28000, image: "https://i.ibb.co/S7m1kcKW/2026-02-19-174124.png", description: "Монтажная пена — универсальный герметизирующий материал, саморасширяющийся вспененный полиуретан. Используется для крепления изделий, заделки швов. Наносится на пластик, бетон, дерево." },
        135: { id: 135, name: "Жидкие гвозди", price: 15000, image: "https://i.ibb.co/k6q9v9q7/2026-02-19-174135.png", description: "Жидкие гвозди используются для склеивания дерева, керамики, пластмассы, стекла, бетона, металла. Подходят для неровных поверхностей, заполняют полости и зазоры." },
        136: { id: 136, name: "Акриловая шпаклевка", price: 18000, image: "https://i.ibb.co/23phrjFy/2026-02-19-174215.png", description: "Акриловая шпаклевка для ремонта и восстановления деревянных поверхностей. Маскирует трещины, отверстия, неровности, места стыков." },
        137: { id: 137, name: "Фуга (затирка)", price: 12000, image: "https://i.ibb.co/Xx0XnyZC/2026-02-19-174148.png", description: "Фуга (затирка) для заполнения межплиточных швов. Защищает плитку от грибка и лишней влаги." },
        138: { id: 138, name: "Антимороз", price: 18000, image: "https://i.ibb.co/WWVQ1nb1/2026-02-19-174205.png", description: "Антимороз применяется для понижения температуры замерзания бетона до -20°С. Обладает пластифицирующим эффектом, ускоряет твердение." },
        139: { id: 139, name: "Олифа", price: 14000, image: "https://i.ibb.co/991mQvxs/2026-02-19-174255.png", description: "Олифа используется для обработки древесины, в качестве грунтовки, основы для масляных красок и шпаклевочных смесей. Придает дереву благородный темный оттенок." },
        140: { id: 140, name: "Морилка", price: 16000, image: "https://i.ibb.co/mrhpGvcK/2026-02-19-174306.png", description: "Морилка для отделки древесины, придает нужный цвет, сохраняя структуру. Защищает от ультрафиолета и атмосферной влаги, предотвращает гниение." },
        141: { id: 141, name: "Клей ПВА", price: 8000, image: "https://i.ibb.co/8Dj8MpH2/2026-02-19-174318.png", description: "Клей ПВА для склеивания различных материалов. Обладает характерным слабым запахом." },
        142: { id: 142, name: "Сода каустическая", price: 10000, image: "https://i.ibb.co/bMt68Fsj/2026-02-19-174226.png", description: "Сода каустическая гранулированная для прочистки труб. Растворяет отложения из твёрдых жиров и загрязнения." },
        143: { id: 143, name: "Гидроизоляция", price: 22000, image: "https://i.ibb.co/pvn3xQt0/2026-02-19-174236.png", description: "Гидроизоляция для защиты декоративных материалов от воздействия влаги. Применяется на металле, бетоне, дереве." },
        144: { id: 144, name: "Жидкое стекло", price: 18000, image: "https://i.ibb.co/99b4pR8v/2026-02-19-174245.png", description: "Жидкое стекло на натриевой основе для защиты бетонных строений, гидросооружений." },
        
        // Краски
        151: { id: 151, name: "Эмаль Оскар", price: 45000, image: "https://i.ibb.co/d0YqR55G/2026-02-19-174539.png", description: "Эмаль Оскар используется в качестве универсального покрытия для защиты деревянных и металлических изделий от гниения и коррозии." },
        152: { id: 152, name: "Oscar Deluxe водная", price: 55000, image: "https://i.ibb.co/Y7qrpmRH/2026-02-19-174520.png", description: "Водные краски Oscar Deluxe на водной основе, слабо пахнут, безопасны, быстро высыхают." },
        153: { id: 153, name: "Нитроэмаль НЦ", price: 35000, image: "https://i.ibb.co/ZzmskTH7/2026-02-19-174506.png", description: "Нитроцеллюлозные эмали для окрашивания металла и деревянных изделий, быстросохнущие." },
        154: { id: 154, name: "Антипас", price: 28000, image: "https://i.ibb.co/jvkRPjXb/2026-02-19-174457.png", description: "Антикоррозионная эмаль Антипас для защиты металла от коррозии, обладает высокой укрывистостью." },
        155: { id: 155, name: "Аэрозоль Duafix", price: 25000, image: "https://i.ibb.co/SLfZZZV/2026-02-19-174434.png", description: "Аэрозольная краска Duafix для металла, дерева, пластика, стекла, керамики." },
        156: { id: 156, name: "Грунтовка", price: 25000, image: "https://i.ibb.co/HDKdWFdh/2026-02-19-174424.png", description: "Грунтовка для укрепления основания, бактерицидной защиты и улучшения адгезии." },
        157: { id: 157, name: "Эмульсия", price: 55000, image: "https://i.ibb.co/nMfPZp97/2026-02-19-174412.png", description: "Эмульсия для внутреннего и наружного окрашивания бетонных, кирпичных поверхностей." },
        158: { id: 158, name: "Битумный лак", price: 27000, image: "https://i.ibb.co/TDD87p8S/2026-02-19-174401.png", description: "Битумный лак для грунтовки, антикоррозийной защиты металла и холодной склейки кровли." },
        159: { id: 159, name: "Травертин лак", price: 35000, image: "https://i.ibb.co/wNtbphWf/2026-02-19-174352.png", description: "Травертин лак на основе акриловой эмульсии для фасадов и внутренних поверхностей." },
        160: { id: 160, name: "Бетоноконтакт", price: 42000, image: "https://i.ibb.co/d0j8CGtG/2026-02-19-174342.png", description: "Бетоноконтакт с кварцевым песком для улучшения адгезии к гладким основаниям." },
        161: { id: 161, name: "Лак универсальный", price: 30000, image: "https://i.ibb.co/prbbfzWH/2026-02-19-174331.png", description: "Лак для прозрачных покрытий, защиты и подчеркивания структуры древесины." },
        162: { id: 162, name: "Растворитель 646", price: 15000, image: "https://i.ibb.co/RkVqGx50/2026-02-19-174446.png", description: "Растворитель 646 для разбавления лаков и нитрокрасок, снижения вязкости, создания ровного покрытия." },
        163: { id: 163, name: "Разбавитель", price: 12000, image: "https://i.ibb.co/rRh45dXR/2026-02-19-174528.png", description: "Разбавитель для масляных красок, облегчает нанесение, позволяет смешивать цвета." }
    };

    // Функция открытия детальной информации о товаре
    function openProductDetail(productId) {
        const product = productCatalog[productId];
        if (!product) {
            alert('Товар не найден');
            return;
        }
        
        const modalContent = document.getElementById('productDetailContent');
        
        const isFav = isFavorite(productId);
        const favIconClass = isFav ? 'fas fa-heart' : 'far fa-heart';
        const favActiveClass = isFav ? ' active' : '';
        
        modalContent.innerHTML = `
            <div class="detail-modal-close" onclick="closeProductDetailModal()"><i class="fas fa-times"></i></div>
            <div class="detail-product-img" style="background-image: url('${product.image}');" onclick="openImageView('${product.image}', event)"></div>
            
            <div class="detail-product-title">${product.name}</div>
            
            <div class="detail-description">
                ${product.description}
            </div>
            
            <div class="detail-price-block">
                <div class="price-with-card">
                    <span>💰 Цена:</span>
                    <strong>${product.price.toLocaleString()} сум</strong>
                </div>
            </div>
            
            <div class="detail-action-buttons">
                <button class="detail-btn-cart" onclick="addToCart(${productId}); closeProductDetailModal();">
                    <i class="fas fa-shopping-cart"></i> В корзину
                </button>
                <button class="detail-btn-favorite${favActiveClass}" onclick="toggleFavorite(${productId}); updateFavoriteButtonInDetail(${productId});">
                    <i class="${favIconClass}"></i>
                </button>
            </div>
            
            <div class="detail-delivery-info">
                <i class="fas fa-truck"></i>
                <span>Доставка завтра • Самовывоз сегодня</span>
            </div>
        `;
        
        document.getElementById('productDetailModal').style.display = 'flex';
    }
    
    function closeProductDetailModal() {
        document.getElementById('productDetailModal').style.display = 'none';
    }

    // Функция открытия категории
    function toggleCategory(categoryId) {
        const productsDiv = document.getElementById(`products-${categoryId}`);
        const icon = document.getElementById(`icon-${categoryId}`);
        
        if (productsDiv.classList.contains('expanded')) {
            productsDiv.classList.remove('expanded');
            icon.classList.remove('rotated');
        } else {
            productsDiv.classList.add('expanded');
            icon.classList.add('rotated');
        }
    }

    // Управление страницами
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active-page');
        });
        document.getElementById(pageId).classList.add('active-page');
    }
    
    function setActiveNav(index) {
        document.querySelectorAll('.nav-item').forEach((item, i) => {
            if (i === index) {
                item.classList.add('active');
            } else {
                item.classList.remove('active');
            }
        });
    }

    // Добавление в корзину
    function addToCart(productId, noAnimation = false) {
        const product = productCatalog[productId];
        if (!product) return;
        
        const existing = cart.find(item => item.id === productId);
        if (existing) {
            existing.quantity++;
        } else {
            cart.push({ 
                id: productId, 
                name: product.name, 
                price: product.price, 
                quantity: 1, 
                unit: 'шт' 
            });
        }
        
        updateCartUI();
        
        if (!noAnimation) {
            // Анимация
            const btn = event?.target;
            if (btn && btn.classList.contains('btn-add')) {
                btn.style.background = 'linear-gradient(145deg, #10b981, #059669)';
                btn.innerHTML = '<i class="fas fa-check"></i> Готово';
                setTimeout(() => { 
                    btn.style.background = 'linear-gradient(145deg, #f97316, #fb923c)'; 
                    btn.innerHTML = '<i class="fas fa-cart-plus"></i> Добавить'; 
                }, 600);
            }
        }
    }
    
    // Изменение количества
    function updateQuantity(productId, delta) {
        const item = cart.find(item => item.id === productId);
        if (item) {
            item.quantity += delta;
            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                updateCartUI();
            }
        }
    }
    
    function removeFromCart(productId) { 
        cart = cart.filter(item => item.id !== productId); 
        updateCartUI(); 
    }
    
    function updateCartUI() {
        const totalItems = cart.reduce((acc, i) => acc + i.quantity, 0);
        const totalSum = cart.reduce((acc, i) => acc + (i.price * i.quantity), 0);
        
        // Обновляем бейдж в навигации
        document.getElementById('navCartCount').innerText = totalItems;
        
        // Обновляем корзину если она открыта
        const list = document.getElementById('cartItemsList');
        if (list) {
            let html = '';
            if (cart.length === 0) {
                html = '<p style="color:#94a3b8; text-align:center; padding:20px;">Корзина пуста</p>';
                document.getElementById('checkoutBtn') && (document.getElementById('checkoutBtn').style.display = 'none');
            } else {
                document.getElementById('checkoutBtn') && (document.getElementById('checkoutBtn').style.display = 'block');
                cart.forEach(item => {
                    html += `
                        <div class="cart-item">
                            <div class="cart-item-info">
                                <span class="cart-item-name">${item.name}</span>
                                <span class="cart-item-price">${item.price.toLocaleString()} сум / шт</span>
                            </div>
                            <div class="cart-item-actions">
                                <div class="cart-item-quantity">
                                    <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">−</button>
                                    <span>${item.quantity}</span>
                                    <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                                </div>
                                <span class="item-total">${(item.price * item.quantity).toLocaleString()} сум</span>
                                <i class="fas fa-trash remove-btn" onclick="removeFromCart(${item.id})"></i>
                            </div>
                        </div>
                    `;
                });
            }
            list.innerHTML = html;
        }
        
        // Обновляем суммы
        document.getElementById('summaryItems') && (document.getElementById('summaryItems').innerText = totalItems + ' шт');
        document.getElementById('cartTotal') && (document.getElementById('cartTotal').innerText = totalSum.toLocaleString() + ' сум');
        document.getElementById('checkoutSummaryItems') && (document.getElementById('checkoutSummaryItems').innerText = totalItems + ' шт');
        document.getElementById('checkoutSummaryTotal') && (document.getElementById('checkoutSummaryTotal').innerText = totalSum.toLocaleString() + ' сум');
    }

    // Переход к оформлению
    function proceedToCheckout() {
        if (cart.length === 0) {
            alert('Корзина пуста');
            return;
        }
        showPage('checkoutPage');
        setActiveNav(2);
        updateCartUI();
    }

    // Отправка заказа
    function sendOrderToTelegram() {
        if (cart.length === 0) { alert('Корзина пуста'); return; }

        const name = document.getElementById('customerName').value.trim() || 'Покупатель';
        const phone = document.getElementById('customerPhone').value.trim() || 'не указан';
        const address = document.getElementById('customerAddress').value.trim() || 'не указан';
        const comment = document.getElementById('customerComment').value.trim() || '—';

        const itemsList = cart.map(i => `• ${i.name} — ${i.quantity} шт × ${i.price.toLocaleString()} сум = ${(i.price * i.quantity).toLocaleString()} сум`).join('\n');
        const total = cart.reduce((s,i) => s + i.price * i.quantity, 0).toLocaleString();

        const message = `
🔔 НОВЫЙ ЗАКАЗ StroyGo (Ангрен)
🏪 Магазин: Центр (Навои)
👤 Имя: ${name}
📞 Телефон: ${phone}
📍 Адрес: ${address}
📝 Комментарий: ${comment}
—————————————
${itemsList}
—————————————
💰 ИТОГО: ${total} сум
⏱️ ${new Date().toLocaleString('ru-RU', { timeZone: 'Asia/Tashkent' })}
        `.trim();

        async function sendToGroup() {
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: TELEGRAM_GROUP_ID,
                text: message,
                parse_mode: 'HTML'
            };
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                return result.ok;
            } catch (e) {
                console.error('Ошибка:', e);
                return false;
            }
        }

        alert('⏳ Отправка заказа...');

        sendToGroup().then(success => {
            if (success) {
                // Сохраняем заказ в историю
                const order = {
                    date: new Date().toISOString(),
                    items: cart.map(item => ({
                        id: item.id,
                        name: item.name,
                        price: item.price,
                        quantity: item.quantity
                    })),
                    total: cart.reduce((s,i) => s + i.price * i.quantity, 0),
                    customer: {
                        name,
                        phone,
                        address,
                        comment
                    },
                    status: 'Выполнен'
                };
                addOrderToHistory(order);
                
                document.getElementById('acceptOrderModal').style.display = 'flex';
                cart = [];
                updateCartUI();
                showPage('homePage');
                setActiveNav(0);
            } else {
                alert('❌ Ошибка при отправке. Пожалуйста, попробуйте позже.');
            }
        });
    }

    function closeAcceptModal() {
        document.getElementById('acceptOrderModal').style.display = 'none';
    }

    // Инициализация
    window.onload = function() { 
        loadFavorites();
        loadOrderHistory();
        loadReviews();
        updateCartUI(); 
        setActiveNav(0);
        initRatingStars();
        
        // По умолчанию открываем первую категорию
        setTimeout(() => {
            toggleCategory('category1');
        }, 100);
    };

    // Делаем функции глобальными
    window.showPage = showPage;
    window.setActiveNav = setActiveNav;
    window.addToCart = addToCart;
    window.updateQuantity = updateQuantity;
    window.removeFromCart = removeFromCart;
    window.proceedToCheckout = proceedToCheckout;
    window.sendOrderToTelegram = sendOrderToTelegram;
    window.closeAcceptModal = closeAcceptModal;
    window.toggleCategory = toggleCategory;
    window.openProductDetail = openProductDetail;
    window.closeProductDetailModal = closeProductDetailModal;
    window.toggleHistoryDetails = toggleHistoryDetails;
    window.clearOrderHistory = clearOrderHistory;
    window.toggleFavorite = toggleFavorite;
    window.updateFavoriteButtonInDetail = updateFavoriteButtonInDetail;
    window.addAllFavoritesToCart = addAllFavoritesToCart;
    window.openImageView = openImageView;
    window.closeImageView = closeImageView;
    window.openReviewForm = openReviewForm;
    window.submitReview = submitReview;
    window.searchProducts = searchProducts;
    window.filterCategory = filterCategory;
</script>

</body>
</html>